"use strict";(self.webpackChunkgame_core=self.webpackChunkgame_core||[]).push([[630],{6649:function(t,n,e){var r=e(33938),o=e(41819),s=e(63109),i=e.n(s),c=e(93476),a=e.n(c),u=function(){function t(){this.player=void 0,this.context=void 0,this.graphApi=void 0,this.tournament=void 0,this.payments=void 0}var n=t.prototype;return n.getLocale=function(){return null},n.getPlatform=function(){return null},n.getSDKVersion=function(){return"0.0"},n.getSupportedAPIs=function(){return[]},n.getEntryPointData=function(){return null},n.getEntryPointAsync=function(){return new(a())((function(t){t("")}))},n.canCreateShortcutAsync=function(){return new(a())((function(t,n){n(new Error("Not implemented"))}))},n.quit=function(){},n.performHapticFeedbackAsync=function(){return a().resolve()},t}(),d=function(){function t(){}var n=t.prototype;return n.getID=function(){return null},n.getType=function(){return"SOLO"},t}(),l=function(t){function n(n){var e;return(e=t.call(this)||this).sdk=void 0,e.sdk=n,e}(0,o.Z)(n,t);var e=n.prototype;return e.getID=function(){return this.sdk.getID()},e.getType=function(){return this.sdk.getType()},e.isSizeBetween=function(t,n){return this.sdk.isSizeBetween(t,n)},e.switchAsync=function(t){return this.sdk.switchAsync(t)},e.chooseAsync=function(t){return this.sdk.chooseAsync(t)},e.createAsync=function(t){return this.sdk.createAsync(t)},e.getPlayersAsync=function(){return this.sdk.getPlayersAsync()},n}(d),y=l,p=function(){},f=function(t){function n(n){var e;return(e=t.call(this)||this).sdk=void 0,e.sdk=n,e}(0,o.Z)(n,t);var e=n.prototype;return e.getID=function(){return this.sdk.getID()},e.getASIDAsync=function(){return this.sdk.getASIDAsync()},e.getName=function(){return this.sdk.getName()},e.getPhoto=function(){return this.sdk.getPhoto()},e.getDataAsync=function(t){return this.sdk.getDataAsync(t)},e.setDataAsync=function(t){return this.sdk.setDataAsync(t)},e.flushDataAsync=function(){return this.sdk.flushDataAsync()},e.getSignedPlayerInfoAsync=function(t){return this.sdk.getSignedPlayerInfoAsync(t)},e.canSubscribeBotAsync=function(){return this.sdk.canSubscribeBotAsync()},e.subscribeBotAsync=function(){return this.sdk.subscribeBotAsync()},e.getStatsAsync=function(t){return this.sdk.getStatsAsync(t)},e.setStatsAsync=function(t){return this.sdk.setStatsAsync(t)},e.incrementStatsAsync=function(t){return this.sdk.incrementStatsAsync(t)},e.getConnectedPlayersAsync=function(){return this.sdk.getConnectedPlayersAsync()},e.isGuest=function(){return!1},n}(p),h=f,A=function(t){function n(n){var e;return(e=t.call(this)||this).sdk=void 0,e.player=void 0,e.context=void 0,e.graphApi=void 0,e.tournament=void 0,e.sdk=n,e.player=new h(n.player),e.context=new y(n.context),e}(0,o.Z)(n,t);var e=n.prototype;return e.getLocale=function(){return this.sdk.getLocale()},e.getPlatform=function(){return this.sdk.getPlatform()},e.getSDKVersion=function(){return this.sdk.getSDKVersion()},e.initializeAsync=function(){return this.sdk.initializeAsync()},e.setLoadingProgress=function(t){this.sdk.setLoadingProgress(t)},e.getSupportedAPIs=function(){return this.sdk.getSupportedAPIs()},e.getEntryPointData=function(){return this.sdk.getEntryPointData()},e.getEntryPointAsync=function(){return this.sdk.getEntryPointAsync()},e.setSessionData=function(t){this.sdk.setSessionData(t)},e.startGameAsync=function(){return this.sdk.startGameAsync()},e.shareAsync=function(t){return this.sdk.shareAsync(t)},e.updateAsync=function(t){return this.sdk.updateAsync(t)},e.switchGameAsync=function(t,n){return this.sdk.switchGameAsync(t,n)},e.canCreateShortcutAsync=function(){return this.sdk.canCreateShortcutAsync()},e.createShortcutAsync=function(){return this.sdk.createShortcutAsync()},e.quit=function(){this.sdk.quit()},e.logEvent=function(t,n,e){return this.sdk.logEvent(t,n,e)},e.onPause=function(t){this.sdk.onPause(t)},e.getInterstitialAdAsync=function(t){return this.sdk.getInterstitialAdAsync(t)},e.getRewardedVideoAsync=function(t){return this.sdk.getRewardedVideoAsync(t)},e.matchPlayerAsync=function(t,n,e){return this.sdk.matchPlayerAsync(t,n,e)},e.checkCanPlayerMatchAsync=function(){return this.sdk.checkCanPlayerMatchAsync()},e.getLeaderboardAsync=function(t){return this.sdk.getLeaderboardAsync(t)},e.postSessionScoreAsync=function(t){return this.sdk.postSessionScoreAsync(t)},e.loadBannerAdAsync=function(t){return this.sdk.loadBannerAdAsync(t)},e.updateSizeBannerAds=function(){},e.hideBannerAdAsync=function(){return this.sdk.hideBannerAdAsync()},e.showGameRating=function(){var t=(0,r.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",a().reject(new Error("CLIENT_UNSUPPORTED_OPERATION")));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),e.getTournamentAsync=function(){return this.sdk.getTournamentAsync()},e.inviteAsync=function(t){return this.sdk.inviteAsync(t)},n}(u),g=A,m=e(66419),v=e.n(m),w=function(t){this.sdk=void 0,this.sdk=t},k={createAsync:function(){return a().reject(new Error("Unsupported"))},shareAsync:function(){return a().reject(new Error("Unsupported"))},joinAsync:function(){return a().reject(new Error("Unsupported"))},postScoreAsync:function(){return a().reject(new Error("Unsupported"))},getTournamentsAsync:function(){return a().reject(new Error("Unsupported"))}},S=function(t){function n(){return t.call(this,k)||this}(0,o.Z)(n,t);var e=n.prototype;return e.createAsync=function(t){return a().reject(new Error("Unsupported"))},e.shareAsync=function(t){return a().reject(new Error("Unsupported"))},e.joinAsync=function(t){return a().reject(new Error("Unsupported"))},e.postScoreAsync=function(t){return a().reject(new Error("Unsupported"))},e.getTournamentsAsync=function(){return a().reject(new Error("Unsupported"))},n}(w),I=function(t){function n(){return t.call(this)||this}(0,o.Z)(n,t);var e=n.prototype;return e.getID=function(){return null},e.getType=function(){return"SOLO"},e.isSizeBetween=function(t,n){return null},e.switchAsync=function(t){return a().reject(new Error("Unsupported"))},e.chooseAsync=function(){return a().reject(new Error("Unsupported"))},e.createAsync=function(t){return a().reject(new Error("Unsupported"))},e.getPlayersAsync=function(){return a().reject(new Error("Unsupported"))},n}(d),P=e(3649),E=e.n(P),b=e(65420),D=e.n(b),U=e(19996),j=e.n(U),B=e(86902),T=e.n(B),C=e(87339);function x(t,n){var e="undefined"!==typeof D()&&j()(t)||t["@@iterator"];if(e)return(e=e.call(t)).next.bind(e);if(Array.isArray(t)||(e=function(t,n){var e;if(!t)return;if("string"===typeof t)return L(t,n);var r=E()(e=Object.prototype.toString.call(t)).call(e,8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return v()(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L(t,n)}(t))||n&&t&&"number"===typeof t.length){e&&(t=e);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function L(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var G="playerInfo",M="playerData",N=function(t){function n(){var n;return(n=t.call(this)||this).randomMockId=void 0,n.randomMockId=Math.random().toString(36).substring(7),n}(0,o.Z)(n,t);var e=n.prototype;return e.initPlayerAsync=function(){var t=(0,C.Th)(G)||{},n=(""+Math.floor(99999999*Math.random()+1e8)).substring(0,8),e="Guest_"+this.randomMockId,r="https://avataaars.io/?avatarStyle=Circle&topType=ShortHairDreads01&accessoriesType=Blank&hairColor=Black&facialHairType=Blank&clotheType=BlazerShirt&eyeType=Default&eyebrowType=Default&mouthType=Default&skinColor=Light";t.playerId&&"string"===typeof t.playerId&&(n=t.playerId),t.playerName&&"string"===typeof t.playerName&&(e=t.playerName),t.playerPhoto&&"string"===typeof t.playerPhoto&&(r=t.playerPhoto);var o={playerId:n,playerName:e,playerPhoto:r};return(0,C.vk)(G,o),a().resolve()},e.getID=function(){var t=(0,C.Th)(G)||{};return t.playerId&&"string"===typeof t.playerId?t.playerId:"12345678"},e.getASIDAsync=function(){return a().resolve(this.getID())},e.getName=function(){var t=(0,C.Th)(G)||{};return t.playerName&&"string"===typeof t.playerName?t.playerName:null},e.getPhoto=function(){var t=(0,C.Th)(G)||{};return t.playerPhoto&&"string"===typeof t.playerPhoto?t.playerPhoto:null},e.getDataAsync=function(t){for(var n,e=(0,C.Th)(M)||{},r={},o=x(t);!(n=o()).done;){var s=n.value;s!=M?e[s]&&(r[s]=e[s]):r[s]=e}return a().resolve(r)},e.setDataAsync=function(t){return(0,C.vk)(M,t),a().resolve()},e.flushDataAsync=function(){return a().resolve()},e.getSignedPlayerInfoAsync=function(t){var n=this,e={getPlayerID:function(){return n.getID()},getSignature:function(){return"default_token"}};return a().resolve(e)},e.canSubscribeBotAsync=function(){return a().resolve(!1)},e.subscribeBotAsync=function(){return a().reject(new Error("Unsupported"))},e.getStatsAsync=function(t){return a().reject(new Error("Unsupported"))},e.setStatsAsync=function(t){return a().reject(new Error("Unsupported"))},e.incrementStatsAsync=function(t){var n=this,e=T()(t),r={};try{this.getStatsAsync(e).then((function(o){for(var s,i=x(e);!(s=i()).done;){var c=s.value;o[c]||(o[c]=t[c]);var a=t[c];r[c]=o[c]+a}n.setStatsAsync(r)}))}catch(o){return a().reject(o)}return a().resolve(r)},e.getConnectedPlayersAsync=function(){return a().reject(new Error("Unsupported"))},e.isGuest=function(){return!0},n}(p),O=function(t){function n(n,e){var r;return(r=t.call(this)||this).sdk=void 0,r.type=void 0,r.sdk=e,r.type=n,r}(0,o.Z)(n,t);var e=n.prototype;return e.getPlacementID=function(){return this.type},e.loadAsync=function(){var t=this;return new(a())((function(n,e){"mid-roll"===t.type?t.sdk.preloadAd(t.sdk.AdType.Midroll).then(n).catch(e):"pre-roll"===t.type?t.sdk.preloadAd(t.sdk.AdType.Preroll).then(n).catch(e):"rewarded"===t.type?t.sdk.preloadAd(t.sdk.AdType.Rewarded).then(n).catch(e):e(new Error("Unknown ad type"))}))},e.showAsync=function(){var t=this;return new(a())((function(n,e){if("mid-roll"===t.type)t.sdk.showAd(t.sdk.AdType.Midroll).then(n).catch(e);else if("pre-roll"===t.type)t.sdk.showAd(t.sdk.AdType.Preroll).then(n).catch(e);else if("rewarded"===t.type){var r=!1;window.rewardedWatchCompleted=function(){r=!0},t.sdk.showAd(t.sdk.AdType.Rewarded).then((function(){r?n():e({code:"USER_INPUT"})})).catch(e)}else e(new Error("Unknown ad type"))}))},n}((function(){})),R=O,Z=function(t){function n(){return t.apply(this,arguments)||this}(0,o.Z)(n,t);var e=n.prototype;return e.requestAsync=function(){var t=(0,r.Z)(i().mark((function t(n,e,r){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",a().reject(new Error("Unsupported")));case 1:case"end":return t.stop()}}),t)})));return function(n,e,r){return t.apply(this,arguments)}}(),e.initPlatformAsync=function(){var t=(0,r.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",a().reject(new Error("Unsupported")));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),e.getPlayerASIDAsync=function(){var t=(0,r.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",a().reject(new Error("Unsupported")));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n}((function(){})),z=Z,H=function(t){function n(n){var e;return(e=t.call(this)||this).sdk=void 0,e.player=void 0,e.context=void 0,e.graphApi=void 0,e.tournament=void 0,e.midAdInstance=void 0,e.preRollAdInstance=void 0,e.rewardedAdInstance=void 0,e.currentPercentLoading=0,e.bannerAdsConfigs=[],e.initSDKAsync=function(){return new(a())((function(t){e.player=new N,e.context=new I,e.graphApi=new z,e.tournament=new S,e.midAdInstance=new R("mid-roll",e.sdk),e.preRollAdInstance=new R("pre-roll",e.sdk),e.rewardedAdInstance=new R("rewarded",e.sdk),e.player.initPlayerAsync().finally(t)}))},e.updateSizeBannerAds=function(){for(var t=0;t<e.bannerAdsConfigs.length;t++){var n=e.bannerAdsConfigs[t],r=n.placementId,o=n.position,s=n.bannerWidth,i=void 0===s?0:s,c=n.bannerHeight,a=void 0===c?0:c;if(!r)return;var u=document.getElementById("Banner-"+n.placementId);u.style.top="auto",u.style.left="auto",u.style.right="auto",u.style.bottom="auto",u.style.width=i+"px",u.style.height=a+"px",u.style.display="flex";var d=window.game.canvas,l=d.offsetWidth,y=(d.offsetHeight,window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth),p=(y-l)/2,f=Math.min(p,120);switch(o){case"top":u.style.left="50%",u.style.right="50%",u.style.top="0px",u.style.width="728px",u.style.height="90px",u.style.transformOrigin="top center",u.style.transform="translate(-50%, 0%) scale("+Math.min(a/90,y/728)+")";break;case"left":u.style.top="50%",u.style.bottom="50%",u.style.right="0px",u.style.height="600px",u.style.width="120px",u.style.transformOrigin="center left",u.style.transform="translate(0%, -50%) scale("+f/120+")";break;case"right":u.style.top="50%",u.style.bottom="50%",u.style.right="0px",u.style.height="600px",u.style.width="120px",u.style.transformOrigin="center right",u.style.transform="translate(0%, -50%) scale("+f/120+")";break;case"bottom":u.style.left="50%",u.style.right="50%",u.style.bottom="0px",u.style.width="728px",u.style.height="90px",u.style.transformOrigin="bottom center",u.style.transform="translate(-50%, 0%) scale("+Math.min(a/90,y/728)+")"}}},e.sdk=n,e}(0,o.Z)(n,t);var e=n.prototype;return e.getLocale=function(){return"en"},e.getSDKVersion=function(){return"1.29.77"},e.getSupportedAPIs=function(){return["getLocale","getSDKVersion","initializeAsync","startGameAsync","setLoadingProgress","getInterstitialAdAsync","getRewardedVideoAsync","getPlatform"]},e.initializeAsync=function(){var t=this;return new(a())((function(n,e){var r=document.getElementById("lds-content");if(r)r.hidden=!1;else{var o='<div id="lds-content"><div id="lds-dual-ring"></div><div id="lds-text"><span id="lds-percent">0</span>% loaded</div></div>';"complete"===document.readyState?t.appendHtml(document.body,o):window.addEventListener("load",(function(){t.appendHtml(document.body,o)}))}t.initSDKAsync().then(n).catch(e)}))},e.startGameAsync=function(){var t;return this.setLoadingProgress(100),null==(t=document.getElementById("lds-content"))||t.remove(),a().resolve()},e.setLoadingProgress=function(t){var n=document.getElementById("lds-percent");n&&(this.currentPercentLoading=Math.round(Math.max(Math.min(t,100),this.currentPercentLoading)),n.innerHTML=""+this.currentPercentLoading,this.currentPercentLoading=t)},e.setSessionData=function(t){},e.shareAsync=function(t){return a().reject(new Error("Unsupported"))},e.updateAsync=function(t){return a().reject(new Error("Unsupported"))},e.switchGameAsync=function(t){return a().reject(new Error("Unsupported"))},e.canCreateShortcutAsync=function(){return a().reject(!1)},e.createShortcutAsync=function(){return a().reject(new Error("Unsupported"))},e.logEvent=function(t){return this.sdk.sendEvent(t),null},e.onPause=function(t){},e.getInterstitialAdAsync=function(t){var n=this;return new(a())((function(e){"mid-roll"===t?e(n.midAdInstance):"pre-roll"===t&&e(n.preRollAdInstance)}))},e.getRewardedVideoAsync=function(t){var n=this;return new(a())((function(t){t(n.rewardedAdInstance)}))},e.matchPlayerAsync=function(t){return a().reject(new Error("Unsupported"))},e.checkCanPlayerMatchAsync=function(){return new(a())((function(t,n){n(!1)}))},e.getLeaderboardAsync=function(t){return a().reject(new Error("Unsupported"))},e.postSessionScore=function(t){return a().reject(new Error("Unsupported"))},e.postSessionScoreAsync=function(t){return a().reject(new Error("Unsupported"))},e.appendHtml=function(t,n){var e=document.createElement("div");for(e.innerHTML=n;e.children.length>0;)t.appendChild(e.children[0])},e.getPlatform=function(){var t=navigator.userAgent||navigator.vendor;return/android/i.test(t)?"ANDROID":/iPad|iPhone|iPod/.test(t)&&!window.MSStream?"IOS":"WEB"},e.inviteAsync=function(t){return a().reject(new Error("Unsupported"))},e.getTournamentAsync=function(){return a().reject(new Error("Unsupported"))},e.loadBannerAdAsync=function(t,n){var e=this;return new(a())((function(r,o){t?(e.createBannerAdElement(n),e.sdk.showAd(e.sdk.AdType.Display,{containerId:"Banner-"+n.placementId}).finally((function(){r()}))):o(new Error("Placement ID is required"))}))},e.createBannerAdElement=function(t){var n=t.placementId;t.position,t.bannerWidth,t.bannerHeight;if(n){var e=document.getElementById("Banner-"+t.placementId);e||(this.bannerAdsConfigs.push(t),(e=document.createElement("div")).id="Banner-"+t.placementId,e.className="GameDistributions_banner",e.style.display="flex",e.style.position="fixed",e.style.alignItems="center",e.style.justifyContent="center",e.style.zIndex="100",e.style.position="fixed",e.style.overflow="hidden",document.body.appendChild(e)),this.updateSizeBannerAds()}},e.hideBannerAdAsync=function(t){return new(a())((function(n){if(void 0==t)for(var e=v()(document.getElementsByClassName("GameDistributions_banner")),r=0;r<e.length;r++)e[r].style.display="none";else{var o=document.getElementById("Banner-"+t);o&&(o.style.display="none")}n()}))},e.happyTime=function(){},e.showGameRating=function(){return a().reject(new Error("Unsupported"))},n}(u),V=H;"FBInstant"in window&&(window.GameSDK=new g(window.FBInstant)),"gdsdk"in window&&(window.GameSDK=new V(window.gdsdk)),window.FBInstant=window.GameSDK},87339:function(t,n,e){e.d(n,{Th:function(){return s},vk:function(){return i}});var r=e(15177),o="Bubble Pop Classic",s=function(t,n){void 0===n&&(n=!0);try{var e=n?o+"_"+t:t,r=localStorage.getItem(e);return null===r?null:GameCore.Utils.Json.decode(r)}catch(s){return null}},i=function(t,n){try{var e=o+"_"+t,i=s(e,!1),c={};GameCore.Utils.Valid.isObject(i)&&(c=i);var a=GameCore.Utils.Json.clone(n);if(!GameCore.Utils.Valid.isObject(a))return!1;var u=GameCore.Utils.Object.clear(a),d=(0,r.TS)(c,u),l=GameCore.Utils.Json.encode(d);return localStorage.setItem(e,l),!0}catch(y){return!1}}}}]);