!function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){return i(t[a][1][e]||e)}),c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";var r,i,o,a,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function u(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function l(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function c(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function h(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function f(e,t){function n(){var e=r;h(e)&&e.a.parentNode&&t(e.g)}var r=e;u(e.b,n),u(e.c,n),h(e)}function p(e,t){var n=t||{};this.family=e,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}function d(){return null===a&&(a=!!document.fonts),a}function g(e,t){return[e.style,e.weight,function(){if(null===o){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}o=""!==e.style.font}return o}()?e.stretch:"","100px",t].join(" ")}a=o=i=r=null,p.prototype.load=function(e,t){var n=this,o=e||"BESbswy",a=0,s=t||3e3,u=(new Date).getTime();return new Promise((function(e,t){if(d()&&!function(){if(null===i)if(d()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);i=!!e&&parseInt(e[1],10)<603}else i=!1;return i}()){var h=new Promise((function(e,t){!function r(){(new Date).getTime()-u>=s?t(Error(s+"ms timeout exceeded")):document.fonts.load(g(n,'"'+n.family+'"'),o).then((function(t){1<=t.length?e():setTimeout(r,25)}),t)}()})),p=new Promise((function(e,t){a=setTimeout((function(){t(Error(s+"ms timeout exceeded"))}),s)}));Promise.race([p,h]).then((function(){clearTimeout(a),e(n)}),t)}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",(function t(){document.removeEventListener("DOMContentLoaded",t),e()})):document.attachEvent("onreadystatechange",(function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())}))}((function(){function i(){var t;(t=-1!=y&&-1!=b||-1!=y&&-1!=m||-1!=b&&-1!=m)&&((t=y!=b&&y!=m&&b!=m)||(null===r&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),r=!!t&&(parseInt(t[1],10)<536||536===parseInt(t[1],10)&&parseInt(t[2],10)<=11)),t=r&&(y==v&&b==v&&m==v||y==_&&b==_&&m==_||y==x&&b==x&&m==x)),t=!t),t&&(w.parentNode&&w.parentNode.removeChild(w),clearTimeout(a),e(n))}var h=new l(o),p=new l(o),d=new l(o),y=-1,b=-1,m=-1,v=-1,_=-1,x=-1,w=document.createElement("div");w.dir="ltr",c(h,g(n,"sans-serif")),c(p,g(n,"serif")),c(d,g(n,"monospace")),w.appendChild(h.a),w.appendChild(p.a),w.appendChild(d.a),document.body.appendChild(w),v=h.a.offsetWidth,_=p.a.offsetWidth,x=d.a.offsetWidth,function e(){if((new Date).getTime()-u>=s)w.parentNode&&w.parentNode.removeChild(w),t(Error(s+"ms timeout exceeded"));else{var n=document.hidden;!0!==n&&void 0!==n||(y=h.a.offsetWidth,b=p.a.offsetWidth,m=d.a.offsetWidth,i()),a=setTimeout(e,50)}}(),f(h,(function(e){y=e,i()})),c(h,g(n,'"'+n.family+'",sans-serif')),f(p,(function(e){b=e,i()})),c(p,g(n,'"'+n.family+'",serif')),f(d,(function(e){m=e,i()})),c(d,g(n,'"'+n.family+'",monospace'))}))}))},"object"===(void 0===t?"undefined":s(t))?t.exports=p:(window.FontFaceObserver=p,window.FontFaceObserver.prototype.load=p.prototype.load)},{}],2:[function(e,t,n){"use strict";var r=e("./_hashClear"),i=e("./_hashDelete"),o=e("./_hashGet"),a=e("./_hashHas"),s=e("./_hashSet");function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},{"./_hashClear":43,"./_hashDelete":44,"./_hashGet":45,"./_hashHas":46,"./_hashSet":47}],3:[function(e,t,n){"use strict";var r=e("./_listCacheClear"),i=e("./_listCacheDelete"),o=e("./_listCacheGet"),a=e("./_listCacheHas"),s=e("./_listCacheSet");function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},{"./_listCacheClear":54,"./_listCacheDelete":55,"./_listCacheGet":56,"./_listCacheHas":57,"./_listCacheSet":58}],4:[function(e,t,n){"use strict";var r=e("./_getNative")(e("./_root"),"Map");t.exports=r},{"./_getNative":39,"./_root":70}],5:[function(e,t,n){"use strict";var r=e("./_mapCacheClear"),i=e("./_mapCacheDelete"),o=e("./_mapCacheGet"),a=e("./_mapCacheHas"),s=e("./_mapCacheSet");function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},{"./_mapCacheClear":59,"./_mapCacheDelete":60,"./_mapCacheGet":61,"./_mapCacheHas":62,"./_mapCacheSet":63}],6:[function(e,t,n){"use strict";var r=e("./_ListCache"),i=e("./_stackClear"),o=e("./_stackDelete"),a=e("./_stackGet"),s=e("./_stackHas"),u=e("./_stackSet");function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=u,t.exports=l},{"./_ListCache":3,"./_stackClear":74,"./_stackDelete":75,"./_stackGet":76,"./_stackHas":77,"./_stackSet":78}],7:[function(e,t,n){"use strict";var r=e("./_root").Symbol;t.exports=r},{"./_root":70}],8:[function(e,t,n){"use strict";var r=e("./_root").Uint8Array;t.exports=r},{"./_root":70}],9:[function(e,t,n){"use strict";t.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},{}],10:[function(e,t,n){"use strict";var r=e("./_baseTimes"),i=e("./isArguments"),o=e("./isArray"),a=e("./isBuffer"),s=e("./_isIndex"),u=e("./isTypedArray"),l=Object.prototype.hasOwnProperty;t.exports=function(e,t){var n=o(e),c=!n&&i(e),h=!n&&!c&&a(e),f=!n&&!c&&!h&&u(e),p=n||c||h||f,d=p?r(e.length,String):[],g=d.length;for(var y in e)!t&&!l.call(e,y)||p&&("length"==y||h&&("offset"==y||"parent"==y)||f&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||s(y,g))||d.push(y);return d}},{"./_baseTimes":26,"./_isIndex":49,"./isArguments":83,"./isArray":84,"./isBuffer":87,"./isTypedArray":93}],11:[function(e,t,n){"use strict";var r=e("./_baseAssignValue"),i=e("./eq");t.exports=function(e,t,n){(void 0===n||i(e[t],n))&&(void 0!==n||t in e)||r(e,t,n)}},{"./_baseAssignValue":14,"./eq":81}],12:[function(e,t,n){"use strict";var r=e("./_baseAssignValue"),i=e("./eq"),o=Object.prototype.hasOwnProperty;t.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},{"./_baseAssignValue":14,"./eq":81}],13:[function(e,t,n){"use strict";var r=e("./eq");t.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},{"./eq":81}],14:[function(e,t,n){"use strict";var r=e("./_defineProperty");t.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},{"./_defineProperty":36}],15:[function(e,t,n){"use strict";var r=e("./isObject"),i=Object.create;function o(){}t.exports=function(e){if(!r(e))return{};if(i)return i(e);o.prototype=e;var t=new o;return o.prototype=void 0,t}},{"./isObject":90}],16:[function(e,t,n){"use strict";var r=e("./_createBaseFor")();t.exports=r},{"./_createBaseFor":35}],17:[function(e,t,n){"use strict";var r=e("./_Symbol"),i=e("./_getRawTag"),o=e("./_objectToString"),a=r?r.toStringTag:void 0;t.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},{"./_Symbol":7,"./_getRawTag":41,"./_objectToString":67}],18:[function(e,t,n){"use strict";var r=e("./_baseGetTag"),i=e("./isObjectLike");t.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},{"./_baseGetTag":17,"./isObjectLike":91}],19:[function(e,t,n){"use strict";var r=e("./isFunction"),i=e("./_isMasked"),o=e("./isObject"),a=e("./_toSource"),s=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,c=u.toString,h=l.hasOwnProperty,f=RegExp("^"+c.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(e){return!(!o(e)||i(e))&&(r(e)?f:s).test(a(e))}},{"./_isMasked":52,"./_toSource":79,"./isFunction":88,"./isObject":90}],20:[function(e,t,n){"use strict";var r=e("./_baseGetTag"),i=e("./isLength"),o=e("./isObjectLike"),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},{"./_baseGetTag":17,"./isLength":89,"./isObjectLike":91}],21:[function(e,t,n){"use strict";var r=e("./isObject"),i=e("./_isPrototype"),o=e("./_nativeKeysIn"),a=Object.prototype.hasOwnProperty;t.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},{"./_isPrototype":53,"./_nativeKeysIn":65,"./isObject":90}],22:[function(e,t,n){"use strict";var r=e("./_Stack"),i=e("./_assignMergeValue"),o=e("./_baseFor"),a=e("./_baseMergeDeep"),s=e("./isObject"),u=e("./keysIn"),l=e("./_safeGet");t.exports=function e(t,n,c,h,f){t!==n&&o(n,(function(o,u){if(f=f||new r,s(o))a(t,n,u,c,e,h,f);else{var p=h?h(l(t,u),o,u+"",t,n,f):void 0;void 0===p&&(p=o),i(t,u,p)}}),u)}},{"./_Stack":6,"./_assignMergeValue":11,"./_baseFor":16,"./_baseMergeDeep":23,"./_safeGet":71,"./isObject":90,"./keysIn":94}],23:[function(e,t,n){"use strict";var r=e("./_assignMergeValue"),i=e("./_cloneBuffer"),o=e("./_cloneTypedArray"),a=e("./_copyArray"),s=e("./_initCloneObject"),u=e("./isArguments"),l=e("./isArray"),c=e("./isArrayLikeObject"),h=e("./isBuffer"),f=e("./isFunction"),p=e("./isObject"),d=e("./isPlainObject"),g=e("./isTypedArray"),y=e("./_safeGet"),b=e("./toPlainObject");t.exports=function(e,t,n,m,v,_,x){var w=y(e,n),P=y(t,n),S=x.get(P);if(S)r(e,n,S);else{var O=_?_(w,P,n+"",e,t,x):void 0,C=void 0===O;if(C){var k=l(P),T=!k&&h(P),j=!k&&!T&&g(P);O=P,k||T||j?O=l(w)?w:c(w)?a(w):T?i(P,!(C=!1)):j?o(P,!(C=!1)):[]:d(P)||u(P)?u(O=w)?O=b(w):p(w)&&!f(w)||(O=s(P)):C=!1}C&&(x.set(P,O),v(O,P,m,_,x),x.delete(P)),r(e,n,O)}}},{"./_assignMergeValue":11,"./_cloneBuffer":29,"./_cloneTypedArray":30,"./_copyArray":31,"./_initCloneObject":48,"./_safeGet":71,"./isArguments":83,"./isArray":84,"./isArrayLikeObject":86,"./isBuffer":87,"./isFunction":88,"./isObject":90,"./isPlainObject":92,"./isTypedArray":93,"./toPlainObject":97}],24:[function(e,t,n){"use strict";var r=e("./identity"),i=e("./_overRest"),o=e("./_setToString");t.exports=function(e,t){return o(i(e,t,r),e+"")}},{"./_overRest":69,"./_setToString":72,"./identity":82}],25:[function(e,t,n){"use strict";var r=e("./constant"),i=e("./_defineProperty"),o=e("./identity"),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;t.exports=a},{"./_defineProperty":36,"./constant":80,"./identity":82}],26:[function(e,t,n){"use strict";t.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},{}],27:[function(e,t,n){"use strict";t.exports=function(e){return function(t){return e(t)}}},{}],28:[function(e,t,n){"use strict";var r=e("./_Uint8Array");t.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},{"./_Uint8Array":8}],29:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=e("./_root"),o="object"==(void 0===n?"undefined":r(n))&&n&&!n.nodeType&&n,a=o&&"object"==(void 0===t?"undefined":r(t))&&t&&!t.nodeType&&t,s=a&&a.exports===o?i.Buffer:void 0,u=s?s.allocUnsafe:void 0;t.exports=function(e,t){if(t)return e.slice();var n=e.length,r=u?u(n):new e.constructor(n);return e.copy(r),r}},{"./_root":70}],30:[function(e,t,n){"use strict";var r=e("./_cloneArrayBuffer");t.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},{"./_cloneArrayBuffer":28}],31:[function(e,t,n){"use strict";t.exports=function(e,t){var n=-1,r=e.length;for(t=t||Array(r);++n<r;)t[n]=e[n];return t}},{}],32:[function(e,t,n){"use strict";var r=e("./_assignValue"),i=e("./_baseAssignValue");t.exports=function(e,t,n,o){var a=!n;n=n||{};for(var s=-1,u=t.length;++s<u;){var l=t[s],c=o?o(n[l],e[l],l,n,e):void 0;void 0===c&&(c=e[l]),a?i(n,l,c):r(n,l,c)}return n}},{"./_assignValue":12,"./_baseAssignValue":14}],33:[function(e,t,n){"use strict";var r=e("./_root")["__core-js_shared__"];t.exports=r},{"./_root":70}],34:[function(e,t,n){"use strict";var r=e("./_baseRest"),i=e("./_isIterateeCall");t.exports=function(e){return r((function(t,n){var r=-1,o=n.length,a=1<o?n[o-1]:void 0,s=2<o?n[2]:void 0;for(a=3<e.length&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var u=n[r];u&&e(t,u,r,a)}return t}))}},{"./_baseRest":24,"./_isIterateeCall":50}],35:[function(e,t,n){"use strict";t.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}},{}],36:[function(e,t,n){"use strict";var r=e("./_getNative"),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();t.exports=i},{"./_getNative":39}],37:[function(e,t,n){(function(e){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r="object"==(void 0===e?"undefined":n(e))&&e&&e.Object===Object&&e;t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],38:[function(e,t,n){"use strict";var r=e("./_isKeyable");t.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},{"./_isKeyable":51}],39:[function(e,t,n){"use strict";var r=e("./_baseIsNative"),i=e("./_getValue");t.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},{"./_baseIsNative":19,"./_getValue":42}],40:[function(e,t,n){"use strict";var r=e("./_overArg")(Object.getPrototypeOf,Object);t.exports=r},{"./_overArg":68}],41:[function(e,t,n){"use strict";var r=e("./_Symbol"),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(e){var t=o.call(e,s),n=e[s];try{var r=!(e[s]=void 0)}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},{"./_Symbol":7}],42:[function(e,t,n){"use strict";t.exports=function(e,t){return null==e?void 0:e[t]}},{}],43:[function(e,t,n){"use strict";var r=e("./_nativeCreate");t.exports=function(){this.__data__=r?r(null):{},this.size=0}},{"./_nativeCreate":64}],44:[function(e,t,n){"use strict";t.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},{}],45:[function(e,t,n){"use strict";var r=e("./_nativeCreate"),i=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},{"./_nativeCreate":64}],46:[function(e,t,n){"use strict";var r=e("./_nativeCreate"),i=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},{"./_nativeCreate":64}],47:[function(e,t,n){"use strict";var r=e("./_nativeCreate");t.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},{"./_nativeCreate":64}],48:[function(e,t,n){"use strict";var r=e("./_baseCreate"),i=e("./_getPrototype"),o=e("./_isPrototype");t.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},{"./_baseCreate":15,"./_getPrototype":40,"./_isPrototype":53}],49:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=/^(?:0|[1-9]\d*)$/;t.exports=function(e,t){var n=void 0===e?"undefined":r(e);return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&i.test(e))&&-1<e&&e%1==0&&e<t}},{}],50:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=e("./eq"),o=e("./isArrayLike"),a=e("./_isIndex"),s=e("./isObject");t.exports=function(e,t,n){if(!s(n))return!1;var u=void 0===t?"undefined":r(t);return!!("number"==u?o(n)&&a(t,n.length):"string"==u&&t in n)&&i(n[t],e)}},{"./_isIndex":49,"./eq":81,"./isArrayLike":85,"./isObject":90}],51:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.exports=function(e){var t=void 0===e?"undefined":r(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},{}],52:[function(e,t,n){"use strict";var r,i=e("./_coreJsData"),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(e){return!!o&&o in e}},{"./_coreJsData":33}],53:[function(e,t,n){"use strict";var r=Object.prototype;t.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},{}],54:[function(e,t,n){"use strict";t.exports=function(){this.__data__=[],this.size=0}},{}],55:[function(e,t,n){"use strict";var r=e("./_assocIndexOf"),i=Array.prototype.splice;t.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}},{"./_assocIndexOf":13}],56:[function(e,t,n){"use strict";var r=e("./_assocIndexOf");t.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},{"./_assocIndexOf":13}],57:[function(e,t,n){"use strict";var r=e("./_assocIndexOf");t.exports=function(e){return-1<r(this.__data__,e)}},{"./_assocIndexOf":13}],58:[function(e,t,n){"use strict";var r=e("./_assocIndexOf");t.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},{"./_assocIndexOf":13}],59:[function(e,t,n){"use strict";var r=e("./_Hash"),i=e("./_ListCache"),o=e("./_Map");t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},{"./_Hash":2,"./_ListCache":3,"./_Map":4}],60:[function(e,t,n){"use strict";var r=e("./_getMapData");t.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},{"./_getMapData":38}],61:[function(e,t,n){"use strict";var r=e("./_getMapData");t.exports=function(e){return r(this,e).get(e)}},{"./_getMapData":38}],62:[function(e,t,n){"use strict";var r=e("./_getMapData");t.exports=function(e){return r(this,e).has(e)}},{"./_getMapData":38}],63:[function(e,t,n){"use strict";var r=e("./_getMapData");t.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},{"./_getMapData":38}],64:[function(e,t,n){"use strict";var r=e("./_getNative")(Object,"create");t.exports=r},{"./_getNative":39}],65:[function(e,t,n){"use strict";t.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},{}],66:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=e("./_freeGlobal"),o="object"==(void 0===n?"undefined":r(n))&&n&&!n.nodeType&&n,a=o&&"object"==(void 0===t?"undefined":r(t))&&t&&!t.nodeType&&t,s=a&&a.exports===o&&i.process,u=function(){try{return a&&a.require&&a.require("util").types||s&&s.binding&&s.binding("util")}catch(e){}}();t.exports=u},{"./_freeGlobal":37}],67:[function(e,t,n){"use strict";var r=Object.prototype.toString;t.exports=function(e){return r.call(e)}},{}],68:[function(e,t,n){"use strict";t.exports=function(e,t){return function(n){return e(t(n))}}},{}],69:[function(e,t,n){"use strict";var r=e("./_apply"),i=Math.max;t.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),u=Array(s);++a<s;)u[a]=o[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=o[a];return l[t]=n(u),r(e,this,l)}}},{"./_apply":9}],70:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=e("./_freeGlobal"),o="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,a=i||o||Function("return this")();t.exports=a},{"./_freeGlobal":37}],71:[function(e,t,n){"use strict";t.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},{}],72:[function(e,t,n){"use strict";var r=e("./_baseSetToString"),i=e("./_shortOut")(r);t.exports=i},{"./_baseSetToString":25,"./_shortOut":73}],73:[function(e,t,n){"use strict";var r=Date.now;t.exports=function(e){var t=0,n=0;return function(){var i=r(),o=16-(i-n);if(n=i,0<o){if(800<=++t)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},{}],74:[function(e,t,n){"use strict";var r=e("./_ListCache");t.exports=function(){this.__data__=new r,this.size=0}},{"./_ListCache":3}],75:[function(e,t,n){"use strict";t.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},{}],76:[function(e,t,n){"use strict";t.exports=function(e){return this.__data__.get(e)}},{}],77:[function(e,t,n){"use strict";t.exports=function(e){return this.__data__.has(e)}},{}],78:[function(e,t,n){"use strict";var r=e("./_ListCache"),i=e("./_Map"),o=e("./_MapCache");t.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},{"./_ListCache":3,"./_Map":4,"./_MapCache":5}],79:[function(e,t,n){"use strict";var r=Function.prototype.toString;t.exports=function(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},{}],80:[function(e,t,n){"use strict";t.exports=function(e){return function(){return e}}},{}],81:[function(e,t,n){"use strict";t.exports=function(e,t){return e===t||e!=e&&t!=t}},{}],82:[function(e,t,n){"use strict";t.exports=function(e){return e}},{}],83:[function(e,t,n){"use strict";var r=e("./_baseIsArguments"),i=e("./isObjectLike"),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};t.exports=u},{"./_baseIsArguments":18,"./isObjectLike":91}],84:[function(e,t,n){"use strict";var r=Array.isArray;t.exports=r},{}],85:[function(e,t,n){"use strict";var r=e("./isFunction"),i=e("./isLength");t.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},{"./isFunction":88,"./isLength":89}],86:[function(e,t,n){"use strict";var r=e("./isArrayLike"),i=e("./isObjectLike");t.exports=function(e){return i(e)&&r(e)}},{"./isArrayLike":85,"./isObjectLike":91}],87:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=e("./_root"),o=e("./stubFalse"),a="object"==(void 0===n?"undefined":r(n))&&n&&!n.nodeType&&n,s=a&&"object"==(void 0===t?"undefined":r(t))&&t&&!t.nodeType&&t,u=s&&s.exports===a?i.Buffer:void 0,l=(u?u.isBuffer:void 0)||o;t.exports=l},{"./_root":70,"./stubFalse":96}],88:[function(e,t,n){"use strict";var r=e("./_baseGetTag"),i=e("./isObject");t.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},{"./_baseGetTag":17,"./isObject":90}],89:[function(e,t,n){"use strict";t.exports=function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991}},{}],90:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.exports=function(e){var t=void 0===e?"undefined":r(e);return null!=e&&("object"==t||"function"==t)}},{}],91:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.exports=function(e){return null!=e&&"object"==(void 0===e?"undefined":r(e))}},{}],92:[function(e,t,n){"use strict";var r=e("./_baseGetTag"),i=e("./_getPrototype"),o=e("./isObjectLike"),a=Function.prototype,s=Object.prototype,u=a.toString,l=s.hasOwnProperty,c=u.call(Object);t.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==c}},{"./_baseGetTag":17,"./_getPrototype":40,"./isObjectLike":91}],93:[function(e,t,n){"use strict";var r=e("./_baseIsTypedArray"),i=e("./_baseUnary"),o=e("./_nodeUtil"),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},{"./_baseIsTypedArray":20,"./_baseUnary":27,"./_nodeUtil":66}],94:[function(e,t,n){"use strict";var r=e("./_arrayLikeKeys"),i=e("./_baseKeysIn"),o=e("./isArrayLike");t.exports=function(e){return o(e)?r(e,!0):i(e)}},{"./_arrayLikeKeys":10,"./_baseKeysIn":21,"./isArrayLike":85}],95:[function(e,t,n){"use strict";var r=e("./_baseMerge"),i=e("./_createAssigner")((function(e,t,n){r(e,t,n)}));t.exports=i},{"./_baseMerge":22,"./_createAssigner":34}],96:[function(e,t,n){"use strict";t.exports=function(){return!1}},{}],97:[function(e,t,n){"use strict";var r=e("./_copyObject"),i=e("./keysIn");t.exports=function(e){return r(e,i(e))}},{"./_copyObject":32,"./keysIn":94}],98:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.init=void 0;var r,i=(r=e("lodash/merge"))&&r.__esModule?r:{default:r},o=e("../../main"),a=Symbol("displayObject extensions init");function s(){o.Phaser.Component.Core.prototype[a]||(o.PIXI.DisplayObject.prototype.props=u,o.Phaser.Component.Core.prototype[a]=!0)}function u(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return i.default.apply(void 0,[e].concat(n)),e}n.init=s,n.default=s},{"../../main":101,"lodash/merge":95}],99:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.mapAssetTable=n.forEachAssetInAssetTable=n.default=n.loadAssetTable=void 0;var r,i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=e("../main"),a=(r=e("./webfont"))&&r.__esModule?r:{default:r};function s(e){var t=e.images,n=e.atlases,r=e.sfx,s=e.webfonts,u=e.bitmapfonts,l=e.json;t&&function(e){Object.keys(e).length<=0||o.game.load.images(Object.keys(e),Object.values(e))}(t),n&&function(e){Object.entries(e).forEach((function(e){var t=i(e,2),n=t[0],r=t[1],a=r.substr(0,r.lastIndexOf("."))+".json";o.game.load.atlasJSONHash(n,r,a)}))}(n),r&&function(e){Object.entries(e).forEach((function(e){var t=i(e,2),n=t[0],r=t[1];o.game.load.audio(n,r)}))}(r),u&&function(e){Object.entries(e).forEach((function(e){var t=i(e,2),n=t[0],r=t[1],a=r.substr(0,r.lastIndexOf("."))+".json";o.game.load.bitmapFont(n,r,a)}))}(u),s&&function(e){Object.entries(e).forEach((function(e){var t=i(e,2),n=t[0],r=t[1];(0,a.default)(n,r)}))}(s),l&&function(e){Object.entries(e).forEach((function(e){var t=i(e,2),n=t[0],r=t[1];o.game.load.json(n,r)}))}(l)}function u(e,t){Object.entries(e).forEach((function(e){var n=i(e,2),r=n[0],o=n[1];Object.entries(o).forEach((function(e){var n=i(e,2),o=n[0],a=n[1];t({type:r,id:o,path:a})}))}))}n.loadAssetTable=s,n.default=s,n.forEachAssetInAssetTable=u,n.mapAssetTable=function(e,t){var n={};return u(e,(function(e){var r=t(e);if(r){var i=r.type,o=r.id,a=r.path;i&&o&&a&&(n[i]=n[i]||{},n[i][o]=a)}})),n}},{"../main":101,"./webfont":100}],100:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.loadWebfont=void 0;var r,i,o=(r=function(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(i){return void n(i)}if(!a.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}(regeneratorRuntime.mark((function e(t){for(var n=arguments.length,r=Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o,l,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}return e.abrupt("return");case 2:if(c.apply(void 0,[t].concat(u(r))),"webfont"===t.type)return o=document.createElement("style"),l='\n      @font-face {\n        font-family: "'+t.key+'";\n        src: url("'+t.url+'");\n      }\n    ',o.cssText=l,o.textContent=l,document.getElementsByTagName("head")[0].appendChild(o),h=new s.default(t.key),e.prev=10,e.next=13,h.load(null,1e3);e.next=19;break;case 13:a.game.load.asyncComplete(t),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(10),a.game.load.asyncComplete(t,"Error loading font "+t.key+" from "+t.url+":\n "+e.t0);case 19:case"end":return e.stop()}}),e,this,[[10,16]])}))),function(e){return r.apply(this,arguments)}),a=e("../main"),s=(i=e("fontfaceobserver"))&&i.__esModule?i:{default:i};function u(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var l=Symbol("webfont loader init"),c=void 0;function h(e,t){a.game.load[l]||(c=a.game.load.loadFile.bind(a.game.load),a.game.load.loadFile=o,a.game.load[l]=!0),a.game.load.addToFileList("webfont",e,t)}n.loadWebfont=h,n.default=h},{"../main":101,fontfaceobserver:1}],101:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=void 0,i=void 0,o=void 0,a=void 0,s=void 0;function u(e){var t=e.Phaser,u=void 0===t?r:t,l=e.PIXI,c=void 0===l?i:l,h=e.p2,f=void 0===h?o:h,p=e.game,d=void 0===p?a:p,g=e.language,y=void 0===g?"en":g;n.Phaser=r=u,n.PIXI=i=c,n.game=a=d,n.p2=o=f,n.language=s=y.toLowerCase()}n.init=u,n.default=u,n.game=a,n.Phaser=r,n.PIXI=i,n.p2=o,n.language=s},{}],102:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.GameApp=void 0;function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i,o,a=y(e("states")),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("./utils/index")),u=y(e("./ui/createFlagsManager")),l=y(e("./ui/createActionManager")),c=y(e("./ui/overwrites")),h=e("./handlers/debugForQA"),f=e("./handlers/saveData"),p=e("./sdkWrapper"),d=y(e("sg-utils")),g=e("sg-utils/extensions/display-object/props");function y(e){return e&&e.__esModule?e:{default:e}}function b(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,1500,860,Phaser.Canvas,"content",null,!0));return(0,c.default)(),e.signals={onScreenResize:new Phaser.Signal,onSkinChanged:new Phaser.Signal},e.onLocaleChange=new Phaser.Signal,e.utils=s,e.flags=(0,u.default)(),e.actions=(0,l.default)(),e.locale="en",e.getDBG=h.getDBG,e.init(),e}n.GameApp=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(b,Phaser.Game),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(b,[{key:"init",value:function(){var e=this;(0,d.default)({Phaser,PIXI,undefined:void 0,game:this,language:"en"}),(0,g.init)(),this.actions.addAction("toggleMute",(function(){e.setSoundMute(!game.sound.mute)}))}},{key:"getText",value:function(e){return s.getText(e)}},{key:"getJson",value:function(e){return JSON.parse(JSON.stringify(this.cache.getJSON(e)))}},{key:"setSoundMute",value:function(e){e?(this.flags.removeFlag("soundOn"),this.flags.setFlag("soundOff")):(this.flags.removeFlag("soundOff"),this.flags.setFlag("soundOn")),game.sound.mute=e,(0,f.setSaveDataValue)("mute",e)}},{key:"setLocale",value:function(e){this.locale!==e&&(this.locale=e,this.onLocaleChange.dispatch(e))}},{key:"start",value:(i=regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setLocale((0,p.getLocale)()),a.default.forEach((function(e){return t.state.add(e.key,e)})),e.next=4,(0,f.loadSaveData)();case 4:this.state.start(a.default.BOOT.key),this.setSoundMute((0,f.getSaveDataValue)("mute",!1));case 6:case"end":return e.stop()}}),e,this)})),o=function(){var e=i.apply(this,arguments);return new Promise((function(t,n){return function r(i,o){try{var a=e[i](o),s=a.value}catch(i){return void n(i)}if(!a.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(s)}("next")}))},function(){return o.apply(this,arguments)})}]),b)},{"./handlers/debugForQA":104,"./handlers/saveData":106,"./sdkWrapper":137,"./ui/createActionManager":143,"./ui/createFlagsManager":144,"./ui/overwrites":147,"./utils/index":159,"sg-utils":101,"sg-utils/extensions/display-object/props":98,states:138}],103:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.playSound=n.loadSounds=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=e("../main"),o={};n.loadSounds=function(e){var t=new Phaser.Loader(i.game);t.onLoadComplete.add((function(){Object.entries(e).forEach((function(e){var t=r(e,2),n=t[0];t[1],o[n]=i.game.add.audio(n)}))})),Object.entries(e).forEach((function(e){var n=r(e,2),i=n[0],o=n[1];return t.audio(i,o)})),t.start()},n.playSound=function(e){if(Array.isArray(e)&&(e=i.game.rnd.pick(e)),o[e]){for(var t,n=arguments.length,r=Array(1<n?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];(t=o[e]).play.apply(t,r)}}},{"../main":107}],104:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getDBG=function(){var e={changeChancesConfig:function(e){Array.isArray(e)&&(game.cache.getJSON("settings").shooter.chances=e,game.state.start("main"))},changeLevelToHeightDifference:function(e){e=game.math.clamp(e,-15,0),game.cache.getJSON("settings").grid.desktop.generateLevelToHeightDifference=e,game.cache.getJSON("settings").grid.mobile.generateLevelToHeightDifference=e,game.state.start("main")},changeNotEnoughBubbleConfig:function(e,t){game.cache.getJSON("settings").grid.desktop.notEnoughBubblesRefill={row:e,refillRows:t},game.cache.getJSON("settings").grid.mobile.notEnoughBubblesRefill={row:e,refillRows:t},game.state.start("main")},setMulticolorKey:function(){game.input.keyboard.addKey(Phaser.KeyCode.SPACEBAR).onDown.add((function(){game.state.getCurrentState().shooter.increaseMulticolorProgress(100)}))},getSaveData:r.debugGetSaveData,getSaveDataValue:r.getSaveDataValue,setSaveDataValue:r.setSaveDataValue,setDebugRewardFlag:i.setDebugRewardFlag,helpMeWin:function(){var e=game.state.getCurrentState().grid;e.children.slice(-1*Math.floor(.5*e.children.length)).forEach((function(t){return e.destroyBubble(t)})),e.orderCacheAfterUpdate=!0}};return window.DBG=e};var r=e("./saveData"),i=e("../sdkWrapper")},{"../sdkWrapper":137,"./saveData":106}],105:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.resizeGame=function(){var e=window.innerWidth/window.innerHeight,t=function(){if(null!==o)return{width:o,height:a};var e=i.default.getJson("settings"),t=e.grid[i.default.device.desktop?"desktop":"mobile"],n=t.width,r=t.cellWidth;return{width:n*r+6*r,height:e.minScreenHeight}}(),n=t.width,r=t.height,s=n,u=r;n/r<=e?(s=Math.ceil(r*e))%2==1&&s++:(u=Math.ceil(n/e))%2==1&&u++,i.default.width===s&&i.default.height===u||(null===o&&(o=s,a=u),i.default.scale.setGameSize(s,u),i.default.signals.onScreenResize.dispatch(s,u))};var r,i=(r=e("main"))&&r.__esModule?r:{default:r},o=null,a=null},{main:107}],106:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.debugGetSaveData=n.observe=n.setSaveDataValue=n.getSaveDataValue=n.saveData=n.loadSaveData=void 0;var r,i,o,a=(r=c(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:t=e.sent,h=Object.assign({topScores:[],mute:!1},t),f=!0;case 5:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)}),s=(i=c(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.restore)(p,"{}");case 2:t=e.sent,n={};try{n=JSON.parse(t)}catch(e){}return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)}),u=(o=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,l.save)(p,JSON.stringify(h));case 4:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)}),l=e("../sdkWrapper");function c(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(i){return void n(i)}if(!a.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}var h={},f=!1,p="gameData-BBA",d={};function g(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return f&&void 0!==h[e]?h[e]:t}n.loadSaveData=a,n.saveData=u,n.getSaveDataValue=g,n.setSaveDataValue=function(e,t){f&&g(e)!==t&&(h[e]=t,d[e]&&d[e].dispatch(t),u())},n.observe=function(e,t){d[e]||(d[e]=new Phaser.Signal);var n=d[e].add(t);return t(g(e)),n},n.debugGetSaveData=function(){return h}},{"../sdkWrapper":137}],107:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PIXI=n.default=n.game=void 0;var r,i=e("./GameApp"),o=e("./sdkWrapper"),a=e("./polyfills"),s=void 0;window.addEventListener("DOMContentLoaded",(r=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,a.applyPolyfills)(),n.default=n.game=s=new i.GameApp,window.game=s,e.next=5,(0,o.initialize)({freezeGame:function(){s.paused=!0},unfreezeGame:function(){s.paused=!1},runGame:function(){(0,o.start)(),s.state.start("main")}});case 5:return e.next=7,s.start();case 7:case"end":return e.stop()}}),e,void 0)})),function(){var e=r.apply(this,arguments);return new Promise((function(t,n){return function r(i,o){try{var a=e[i](o),s=a.value}catch(i){return void n(i)}if(!a.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(s)}("next")}))})),n.game=s,n.default=s,n.PIXI=PIXI},{"./GameApp":102,"./polyfills":108,"./sdkWrapper":137}],108:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.applyPolyfills=function(){Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function e(){var t=isNaN(arguments[0])?1:Number(arguments[0]);return t?Array.prototype.reduce.call(this,(function(n,r){return Array.isArray(r)?n.push.apply(n,e.call(r,t-1)):n.push(r),n}),[]):Array.prototype.slice.call(this)},writable:!0})}},{}],109:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AlphaTargetComponent=void 0;function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=e("../../src/main");function o(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.decreaseRate=.02,this.lerp=.5,this.object=e,this.minAlpha=t,this.alphaTarget=t,this.object.alpha=t}n.AlphaTargetComponent=(function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(o,[{key:"setAlphaTarget",value:function(e){e<this.alphaTarget||(this.alphaTarget=Math.min(1,this.minAlpha+(1-this.minAlpha)*e))}},{key:"update",value:function(){this.alphaTarget=i.game.math.clamp(this.alphaTarget-this.decreaseRate,this.minAlpha,1),this.object.alpha=i.game.utils.lerp(this.object.alpha,this.alphaTarget,this.lerp)}}]),o)},{"../../src/main":107}],110:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.signals={onAddPoints:new Phaser.Signal,onBonusShoutout:new Phaser.Signal},this.config=e.sort((function(e,t){return t.bubblesRequired-e.bubblesRequired}))}n.BigDropCounter=(function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(i,[{key:"checkMatch",value:function(e){var t=this.config.find((function(t){return t.bubblesRequired<=e.length}));if(t){var n=t.points,r=t.shoutout;this.signals.onAddPoints.dispatch(n),this.signals.onBonusShoutout.dispatch(r,n,e)}}}]),i)},{}],111:[function(e,t,n){"use strict";function r(e){a.BubbleSprite.call(this),this.signals={onBounceFinished:new Phaser.Signal},this.pivotStack=new s.TweenStack(this.pivot),this.state=i.game.state.getCurrentState(),this.anchor.setTo(.5),this.cell=new Phaser.Point(0,0),this.collCircle=new Phaser.Circle(0,0,0),this.grid=e,this.signalBindings=[],this.kill()}Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../src/main"),o=e("../utils/index"),a=e("../prototypes/BubbleSprite"),s=e("../utils/TweenStack");r.prototype=Object.create(a.BubbleSprite.prototype),(r.constructor=r).prototype.isMatchingType=function(e){return this.type==e},r.prototype.shouldGoToPopOut=function(){return"multicolor"!==this.type},r.prototype.clearCheck=function(){this.checked=!1},r.prototype.checkType=function(e){return!this.checked&&(this.checked=!0,this.isMatchingType(e))},r.prototype.startBounce=function(e,t){this.scaleBounceTweenCompleted=!1,this.duringBounce=!0,this.velX=e,this.velY=t,this.scaleBounceTween=i.game.add.tween(this.scale).to({x:.9,y:.9},100,Phaser.Easing.Elastic.InOut,!0,0,0,!0)},r.prototype.update=function(){this.alive&&(this.duringBounce&&this.bounceUpdate(),this.pivotStack.update())},r.prototype.bounceUpdate=function(){this.duringBounce&&this.alive&&(this.x+=this.velX,this.y+=this.velY,this.velX*=.9,this.velY*=.9,this.pullX=-.6*(this.x-this.orgX),this.pullY=-.6*(this.y-this.orgY),this.x+=this.pullX,this.y+=this.pullY,!this.scaleBounceTween.isRunning&&Math.abs(this.x-this.orgX)<1&&Math.abs(this.y-this.orgY)<1&&(this.x=this.orgX,this.y=this.orgY,this.duringBounce=!1,this.signals.onBounceFinished.dispatch()))},r.prototype.basicInit=function(e,t,n,r,i,a){this.overlayImg&&this.overlayImg.destroy(),this.pivotStack.removeAll(),(0,o.stopTweens)(this),this.alpha=1,this.scale.setTo(1),(this.angle=0)<this.signalBindings.length&&(this.signalBindings.forEach((function(e){e.detach()})),this.signalBindings=[]),this.bubbleBooster=!1,this.x=n,this.y=r,this.cell.set(e,t),this.cellX=e,this.cellY=t,this.orgX=n,this.orgY=r,this.checked=!1,this.collCircle.setTo(n,r,44),this.duringBounce=!1,this.velX=0,this.velY=0,this.pullX=0,this.pullY=0,this.revive()},r.prototype.initRegular=function(e,t,n,r,i,o){this.basicInit(e,t,n,r,i,o),this.initBubbleSprite(i),this.type=i},r.prototype.changeTypeInto=function(e){this.initBubbleSprite(e),this.type=e},n.default=r},{"../../src/main":107,"../prototypes/BubbleSprite":115,"../utils/TweenStack":149,"../utils/index":159}],112:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i=(r=e("./Bubble"))&&r.__esModule?r:{default:r};function o(e){this.grid=e,this.gridArray=e.gridArray,this.neighboursCoordinations=e.neighboursCoordinations,this.colorGroups=["0","1","2","3","4"],this.freeBubbles=[]}o.prototype.getFreeBubble=function(){var e=this;if(0<this.freeBubbles.length)return this.freeBubbles.pop();var t=new i.default(this.grid);return t.events.onKilled.add((function(){t.parent&&t.parent.remove&&(t.parent.remove(t),e.freeBubbles.push(t))})),t},o.prototype.makeBubble=function(e,t,n){var r=this.grid.cellToInsidePx(e,t),i=this.getFreeBubble();return i.initRegular(e,t,r[0],r[1],n),this.gridArray.set(e,t,i),this.grid.add(i),i},n.default=o},{"./Bubble":111}],113:[function(e,t,n){"use strict";function r(e){s.BubbleSprite.call(this),this.onCollision=new Phaser.Signal,this.muted=!1,this.grid=e,this.collCircle=new Phaser.Circle(0,0,25),this.spd=10,this.cellX=0,this.cellY=0,this.prevCellX=0,this.prevCellY=0,this.neighbours=[],this.kill()}Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../src/main"),o=e("../utils/index"),a=e("../handlers/audioPlayer"),s=e("../prototypes/BubbleSprite");r.prototype=Object.create(s.BubbleSprite.prototype),(r.constructor=r).prototype.setMute=function(e){this.muted=e},r.prototype.update=function(){this.alive&&(this.updatePosition(),this.updateColl(),this.updatePosition(),this.updateColl(),this.updatePosition(),this.updateColl())},r.prototype.init=function(e,t,n,r){this.x=e,this.y=t,this.collCircle.diameter=23,this.cellX=-99999,this.cellY=-99999,this.alpha=1,this.type=r.toString(),this.velX=(0,o.lengthDirX)(n,this.spd,!1),this.velY=(0,o.lengthDirY)(n,this.spd,!1),this.minX=this.grid.gridFiledRect.x+28,this.maxX=this.grid.gridFiledRect.x+this.grid.gridFiledRect.width-28,this.minY=this.grid.gridFiledRect.y,this.maxY=t,this.revive(),this.initBubbleSprite(r)},r.prototype.updateColl=function(){this.alive&&0<this.grid.checkCollisionAgainst(this,this.neighbours).length&&(this.grid.getBubble(this.cellX,this.cellY)&&(this.cellX=this.prevCellX,this.cellY=this.prevCellY),this.onCollision.dispatch(this),this.kill())},r.prototype.updatePosition=function(e){if(this.alive){var t=e||1;if(this.x+=this.velX*t,this.y+=this.velY*t,this.x<this.minX||this.x>this.maxX){var n=this.x<this.minX?this.minX-this.x:this.maxX-this.x;this.x=i.game.math.clamp(this.x,this.minX,this.maxX)+n,this.velX*=-1,this.muted||(0,a.playSound)("pop")}this.y>this.maxY&&(this.alpha-=.07,this.alpha<0&&this.kill());var r=this.grid.outsidePxToCell(this.x,this.y);this.cellX==r[0]&&this.cellY==r[1]||(this.prevCellX=this.cellX,this.prevCellY=this.cellY,this.cellX=r[0],this.cellY=r[1],this.neighbours=this.grid.getNeighbours(r[0],r[1]))}},n.default=r},{"../../src/main":107,"../handlers/audioPlayer":103,"../prototypes/BubbleSprite":115,"../utils/index":159}],114:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.BubblePopOut=void 0;function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=e("./BubbleSprite"),o=e("../main"),a=e("../handlers/audioPlayer"),s=n.BubblePopOut=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,i.BubbleSprite),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(u,[{key:"init",value:function(e,t,n){this.position.setTo(e,t),this.velX=o.game.rnd.realInRange(-this.initVelX,this.initVelX),this.velY=o.game.rnd.rnd()*this.initVelY,this.revive(),this.initBubbleSprite(n),this.type=n,this.updateTransform()}},{key:"update",value:function(){this.alive&&(this.x+=this.velX,this.y+=this.velY,this.velY+=this.gravity,this.angle+=this.velX,(this.x<this.minX||this.x>this.maxX)&&(this.x<this.minX?this.minX:this.maxX,this.x,this.x=o.game.math.clamp(this.x,this.minX,this.maxX),this.velX*=-1,(0,a.playSound)("pop","",0,.2)),this.collCircle.x=this.x,this.collCircle.y=this.y)}}]),u);function u(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this));return r.minX=e,r.maxX=t,r.collCircle=new Phaser.Circle(0,0,n),r.gravity=.5,r.initVelX=10,r.initVelY=-5,r.kill(),r}window.BubblePopOut=s},{"../handlers/audioPlayer":103,"../main":107,"./BubbleSprite":115}],115:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.BubbleSprite=void 0;function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=e("../main"),o=e("../utils/index"),a=["#1c94ea","#3ae21c","#dc3fc5","#fc401b","#20e7e6","#fdf14b"],s=n.BubbleSprite=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,Phaser.Sprite),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(u,[{key:"initBubbleSprite",value:function(e){this._bubbleValue=e,this.updateBubbleSkin()}},{key:"getBubbleValue",value:function(){return this._bubbleValue}},{key:"getBubbleColor",value:function(){return a[this._bubbleValue]||"white"}},{key:"updateBubbleSkin",value:function(){null!==this._bubbleValue&&this.alive&&(0,o.changeTexture)(this,"ball_hd_"+this._bubbleValue)}},{key:"getBubbleExplosionFrames",value:function(){return null===this._bubbleValue?[]:Phaser.Animation.generateFrameNames("ball_hd_"+this._bubbleValue+"_exp_",0,5)}},{key:"getDisappearAnimationConfig",value:function(){return"multicolor"===this._bubbleValue?{type:"fadeOut"}:{type:"animation",frames:this.getBubbleExplosionFrames()}}}]),u);function u(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,i.game,0,0,null));return e.anchor.setTo(.5),e._skinBinding=i.game.signals.onSkinChanged.add((function(){return e.updateBubbleSkin()})),e._bubbleValue=null,e}s.getSpriteForValue=function(e){return"ball_hd_"+e},s.getRandomValue=function(){return i.game.rnd.between(0,5)}},{"../main":107,"../utils/index":159}],116:[function(e,t,n){"use strict";function r(e,t,n,r,a){Phaser.Button.call(this,i.game,e,t,null,this.click,this),this.state=i.game.state.getCurrentState(),(0,o.changeTexture)(this,n),this.anchor.setTo(.5),this.sfx="buttonClick",this.active=!0,this.onClick=new Phaser.Signal,r&&this.onClick.add(r,a||this),this.terms=[]}Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../src/main"),o=e("../utils/index"),a=e("../handlers/audioPlayer");r.prototype=Object.create(Phaser.Button.prototype),(r.constructor=r).prototype.click=function(){if(this.active){for(var e=0;e<this.terms.length;e++)if(!this.terms[e][0].call(this.terms[e][1]))return;this.active=!1,this.onClick.dispatch(),this.sfx&&(0,a.playSound)(this.sfx);var t=this.scale.x,n=this.scale.y;i.game.add.tween(this.scale).to({x:1.1*t,y:1.1*n},100,Phaser.Easing.Quadratic.Out,!0).onComplete.add((function(){i.game.add.tween(this.scale).to({x:t,y:n},100,Phaser.Easing.Quadratic.Out,!0).onComplete.add((function(){this.active=!0}),this)}),this)}},r.prototype.addTerm=function(e,t){this.terms.push([e,t])},n.default=r},{"../../src/main":107,"../handlers/audioPlayer":103,"../utils/index":159}],117:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ComboCounter=void 0;function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=e("main");function o(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.signals={onTierReached:new Phaser.Signal,onComboShoutout:new Phaser.Signal,onAddPoints:new Phaser.Signal},this.config=e,this.combo=0}n.ComboCounter=(function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(o,[{key:"processMove",value:function(e){var t=this;if(e){this.combo++;var n=this.config.find((function(e){return e.requiredHitsInRow===t.combo}));n&&(this.signals.onComboShoutout.dispatch(i.game.rnd.pick(n.shoutouts),n.points),this.signals.onAddPoints.dispatch(n.points))}else this.combo=0}},{key:"reset",value:function(){this.combo=0}}]),o)},{main:107}],118:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i=e("../../src/main"),o=e("../utils/index"),a=e("../handlers/audioPlayer"),s=c(e("../utils/lengthDirX")),u=c(e("../utils/lengthDirY")),l=c(e("../utils/wait"));function c(e){return e&&e.__esModule?e:{default:e}}function h(){Phaser.Sprite.call(this,i.game),this.anchor.setTo(.5),this.kill(),this.animIndex=1,this.delay=0,this.animating=!1}(h.prototype=Object.create(Phaser.Sprite.prototype)).init=function(e){this.revive();var t=e?this.parent.toLocal(e,e.parent):{x:0,y:0},n=t.x,r=t.y;this.loadTexture(null),this.props({x:n,y:r,blendMode:0,animating:!1,scale:{x:1,y:1},alpha:1})},h.prototype.initEffect=function(e,t){switch(this.init(e),t.type){case"star":this.initStarEffect();break;case"multicolorCircle":this.initMulticolorCircle();break;default:this.kill()}},h.prototype.initStarEffect=function(){var e=this;this.props({blendMode:1,velX:i.game.rnd.realInRange(-10,10),velY:i.game.rnd.realInRange(-5,-15)}),(0,o.changeTexture)(this,"starPart");var t=i.game.add.tween(this).to({alpha:0},i.game.rnd.between(1e3,1500),Phaser.Easing.Sinusoidal.In,!0);t.onComplete.add((function(){return e.kill()})),t.onUpdateCallback((function(){e.x+=e.velX,e.y+=e.velY,e.velY+=.5,e.angle+=e.velX}))},h.prototype.initFireworkDust=function(e,t){var n=this;this.init(),this.alpha=.6,this.scale.setTo(1),this.x=e,this.y=t,(0,o.changeTexture)(this,"dust_part"),this.angle=i.game.rnd.between(0,360),i.game.add.tween(this).to({x:this.x+50,width:4*this.width,height:4*this.height,alpha:0},1e3,Phaser.Easing.Sinusoidal.Out,!0).onComplete.add((function(){return n.kill()}))},h.prototype.initFirework=function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.init(),this.blendMode=1;var n=Object.assign({x:0,y:0,grav:.1,scaleDelta:i.game.rnd.realInRange(-.02,.005),speed:10+i.game.rnd.realInRange(-4,4),angle:i.game.rnd.between(0,360),duration:2e3,fadeOutDuration:300,color:i.game.rnd.between(1,5)},t),r=n.angle,a=n.speed,l=n.duration,c=n.fadeOutDuration,h=n.x,f=n.y,p=n.grav,d=n.scaleDelta,g=n.color;this.x=h,this.y=f,(0,o.changeTexture)(this,"firework_part_"+g);var y=(0,s.default)(r,a,!1),b=(0,u.default)(r,a,!1);i.game.add.tween({t:0}).to({t:1},l,Phaser.Easing.Linear.None,!0).onUpdateCallback((function(){e.x+=y,e.y+=b,e.scale.setTo(e.scale.x+d),y*=.95,b*=.95,b+=p})),i.game.add.tween(this).to({alpha:0},c,Phaser.Easing.Sinusoidal.Out,!0,l-c).onComplete.add((function(){return e.kill()}))},h.prototype.initMulticolorCircle=function(){var e=this;this.props({scale:{x:0,y:0},blendMode:1,alpha:.8}),(0,o.changeTexture)(this,"multicolor_fx"),i.game.add.tween(this.scale).to({x:2,y:2},500,Phaser.Easing.Cubic.Out,!0),i.game.add.tween(this).to({alpha:0},500,Phaser.Easing.Sinusoidal.Out,!0).onComplete.add((function(){return e.kill()}))},h.prototype.initBubbleEffect=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;switch(this.init(e),(0,o.changeTexture)(this,e.frameName),this.delay=t,e.getDisappearAnimationConfig().type){case"animation":this.initBubbleAnimation(e.getBubbleExplosionFrames());break;case"fadeOut":this.initFadeOut(this.delay);break;default:this.kill()}},h.prototype.initBubbleSplashEffect=function(e){var t=this;this.init(e),this.alpha=.5,(0,o.changeTexture)(this,"splash_"+e.type),this.anchor.setTo(.5,.74),this.scale.setTo(0);var n=i.game.rnd.realInRange(.9,1.1),r=i.game.rnd.between(280,320);i.game.add.tween(this.scale).to({x:n,y:n},r,Phaser.Easing.Cubic.Out,!0),i.game.add.tween(this).to({alpha:0},150,Phaser.Easing.Sinusoidal.Out,!0,r-150).onComplete.add((function(){return t.kill()}))},h.prototype.initBubbleAnimation=(r=function(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(i){return void n(i)}if(!a.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.scale.setTo(2),0<n)return e.next=4,(0,l.default)(16*n);e.next=4;break;case 4:(0,a.playSound)("bubblepop"),this.animations.add("anim",t).play(30,!1,!0);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)}),h.prototype.initFadeOut=function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;(0,a.playSound)("bubblepop2"),i.game.add.tween(this).to({alpha:0,width:1.5*this.width,height:1.5*this.height},300,Phaser.Easing.Sinusoidal.Out,!0,16*t).onComplete.add((function(){return e.kill()}))},n.default=h},{"../../src/main":107,"../handlers/audioPlayer":103,"../utils/index":159,"../utils/lengthDirX":160,"../utils/lengthDirY":161,"../utils/wait":167}],119:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i=e("../../src/main"),o=(r=e("./EffectPart"))&&r.__esModule?r:{default:r};function a(){Phaser.Group.call(this,i.game),this.fixedToCamera=!0}(a.prototype=Object.create(Phaser.Group.prototype)).initBubblesFx=function(e){var t=this;e.forEach((function(e){t.getFreeParticle().initBubbleEffect(e,0)}))},a.prototype.initBubblesPopOutFx=function(e){var t=this;e.forEach((function(e){var n=t.getFreeParticle();n.initBubbleSplashEffect(e,0),n.alpha=.5})),e.forEach((function(e){t.getFreeParticle().initBubbleEffect(e,0)}))},a.prototype.initFireworks=function(e,t){this.getFreeParticle().initFireworkDust(e,t);for(var n=0;n<10;n++)this.getFreeParticle().initFirework({x:e,y:t,angle:n/10*360+i.game.rnd.realInRange(-5,5),duration:i.game.rnd.between(800,1e3)})},a.prototype.initFx=function(e,t){this.getFreeParticle().initEffect(e,t)},a.prototype.getFreeParticle=function(){return this.getFirstDead()||this.add(new o.default)},a.prototype.reset=function(){this.children.slice().forEach((function(e){return e.destroy()}))},n.default=a},{"../../src/main":107,"./EffectPart":118}],120:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FieldLine=void 0;function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=e("../../src/main");function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,i.game))}n.FieldLine=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,Phaser.Group),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(o,[{key:"drawLine",value:function(e,t,n){var r=this.add(i.game.make.graphics());r.beginFill(16777215,1),r.drawRect(e,t,n,3),r.alpha=1}}]),o)},{"../../src/main":107}],121:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../src/main"),i=h(e("./GridArray")),o=h(e("./BubbleFactory")),a=e("../handlers/audioPlayer"),s=e("./BubbleSprite"),u=e("./GridWarningLayer"),l=e("./FieldLine"),c=e("../utils/index");function h(e){return e&&e.__esModule?e:{default:e}}function f(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function p(e){var t=this;this.signals={onGameOver:new Phaser.Signal,onMoveDone:new Phaser.Signal,onFxRemoveBubblesRequest:new Phaser.Signal,onRemovedToPopOut:new Phaser.Signal},this.inGameOverState=!1,this.boardGfx=r.game.add.graphics(),e.add(this.boardGfx),Phaser.Group.call(this,r.game),this.offsetX=0,this.offsetY=0,this.gridArray=new i.default,this.nonCacheGroup=r.game.add.group(e),this.nonCacheGroup.position=this.position,(this.nonCacheGroup.grid=this).gridWarningLayer=e.add(new u.GridWarningLayer(this)),e.add(this),this.fieldLine=e.addChildAt(new l.FieldLine,e.getChildIndex(this)),this.popOutGroup=null,this.bubbleFactory=new o.default(this);var n=r.game.getJson("settings");this.gridSettings=n.grid[r.game.device.desktop?"desktop":"mobile"],this.cellW=this.gridSettings.cellWidth,this.cellH=this.gridSettings.cellHeight,this.sizeW=this.gridSettings.width,this.sizeH=this.gridSettings.baseHeight+Math.floor((r.game.height-n.minScreenHeight)/this.cellH),this.gridFiledRect=new Phaser.Rectangle(Math.floor(-.5*(this.sizeW*this.cellW+.5*this.cellW)),this.y,this.sizeW*this.cellW+.5*this.cellW,this.sizeH*this.cellH+(r.game.height-880)),this.holds=[],this.cachingCelling=!0,this.generateLevel(),this.maxY=400,this.oldHeight=this.height,this.x=this.gridFiledRect.x,this.fieldLine.drawLine(this.x,this.sizeH*this.cellH,this.gridFiledRect.width),r.game.signals.onSkinChanged.add((function(){return t.orderCacheAfterUpdate=!0}))}(p.prototype=Object.create(Phaser.Group.prototype)).getGridPixelSize=function(){return{width:this.cellW*this.sizeW+.5*this.cellW,height:this.cellH*this.sizeH}},p.prototype.reset=function(){this.removeAll(!0),this.nonCacheGroup.removeAll(!0),this.gridArray.clear(),this.generateLevel(),this.gridWarningLayer.updateBubbles(),this.orderCacheAfterUpdate=!0,this.inGameOverState=!1},p.prototype.removeLastRows=function(e){var t=this,n=this.sizeH-3;[].concat(f(this.children),f(this.nonCacheGroup.children)).filter((function(e){return e.cellY>=n})).forEach((function(e){return t.destroyBubble(e)})),this.orderCacheAfterUpdate=!0,this.gridWarningLayer.updateBubbles()},p.prototype.getTargetY=function(){return Math.min(0,this.maxY-this.height)},p.prototype.postUpdate=function(){this.fixedToCamera&&(this.x=this.game.camera.view.x+this.cameraOffset.x,this.y=this.game.camera.view.y+this.cameraOffset.y);var e=this.children.length;for(this.gridWarningLayer.x=this.position.x;e--;)this.children[e].postUpdate();this.orderCacheAfterUpdate&&this.recacheBitmap()},p.prototype.makeBubble=function(e,t,n){return this.orderCacheAfterUpdate=!0,this.bubbleFactory.makeBubble(e,t,n)},p.prototype.makeBubbleFromFlyingBubble=function(e){this.getBubble(e.cellX,e.cellY),this.prepareBubbleToBePut(e);var t=this.makeBubble(e.cellX,e.cellY,e.type);return t.x=e.x-this.x,t.y=e.y,t.velX=e.velX,t.velY=e.velY,t},p.prototype.outsidePxToCell=function(e,t){return this.insidePxToCell(e-this.x,t-this.y)},p.prototype.insidePxToCell=function(e,t){var n;n=(t+=6)<0?-34<t%this.cellH:17<t%this.cellH;var r=void 0,i=void 0,o=void 0;return r=Math.floor(t/this.cellH),[(n||((i=(i=r%2==0?e%this.cellW:(e-.5*this.cellW)%this.cellW)<0?this.cellW+i:i)+(o=0<t?t%this.cellH:this.cellH-Math.abs(t%this.cellH))<23||52<i+o)&&r--,r%2==0?Math.floor(e/this.cellW):Math.floor((e-.5*this.cellW)/this.cellW)),r]},p.prototype.cellToInsidePx=function(e,t){return t%2==0?[Math.floor(e*this.cellW+.5*this.cellW-this.offsetX),Math.floor(t*this.cellH+.5*this.cellW-this.offsetY)]:[Math.floor(e*this.cellW+this.cellW-this.offsetX),Math.floor(t*this.cellH+.5*this.cellW-this.offsetY)]},p.prototype.cellToOutsidePx=function(e,t){var n=this.cellToInsidePx(e,t);return n[1]+=this.y,n},p.prototype.putBubble=function(e){var t=this,n=this.makeBubbleFromFlyingBubble(e),r=[];r="multicolor"===n.type?this.handleMutlicolorMatch(n):this.handleRegularMatch(n),this.signals.onFxRemoveBubblesRequest.dispatch(r),this.waveBubbles(r,100,.1),r.forEach((function(e){return t.destroyBubble(e)}));var i=this.checkAndProcessHold();this.signals.onFxRemoveBubblesRequest.dispatch(i),i.forEach((function(e){return t.destroyBubble(e)}));var o=r.concat(i);0==o.length&&(0,a.playSound)("hit"),this.gridWarningLayer.updateBubbles(),0<o.length&&this.signals.onRemovedToPopOut.dispatch(o.filter((function(e){return e.shouldGoToPopOut()}))),this.signals.onMoveDone.dispatch(0<o.length,o.filter((function(e){return e.shouldGoToPopOut()}))),this.orderCacheAfterUpdate=!0;var s=this.getLowestRowNumber();s>=this.sizeH?this.setGameOver():s<=this.gridSettings.notEnoughBubblesRefill.row&&this.makeRefill(this.gridSettings.notEnoughBubblesRefill.refillRows)},p.prototype.handleRegularMatch=function(e){var t=this.getMatching(e.cellX,e.cellY,e.type);return t.length<3&&(this.bounceBubbles(e),e.startBounce(.5*e.velX,.5*e.velY),t=[]),t},p.prototype.handleMutlicolorMatch=function(e){return[].concat(f(this.getMatching(e.cellX,e.cellY,0)),f(this.getMatching(e.cellX,e.cellY,1)),f(this.getMatching(e.cellX,e.cellY,2)),f(this.getMatching(e.cellX,e.cellY,3)),f(this.getMatching(e.cellX,e.cellY,4)),f(this.getMatching(e.cellX,e.cellY,5))).reduce((function(e,t){return e.includes(t)||e.push(t),e}),[])},p.prototype.setGameOver=function(e){this.inGameOverState||(this.inGameOverState=!0,this.signals.onGameOver.dispatch(e))},p.prototype.continueAfterGameOver=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:3;this.inGameOverState=!1,this.removeLastRows(e)},p.prototype.prepareBubbleToBePut=function(e){e.y-=this.y},p.prototype.outsidePxToInsidePx=function(e,t){return[e,t-this.y]},p.prototype.checkCollisionAgainst=function(e,t,n){var r=this.prepareBubbleCollCircleToCollCheck(e);t.push(this.getBubble(e.cellX,e.cellY));var i=[];if(this.cachingCelling&&0==e.cellY)return[e.cellX,e.cellY];for(var o=0;o<t.length;o++)if(t[o]&&Phaser.Circle.intersects(r,t[o].collCircle)){if(!n)return[t[o].cellX,t[o].cellY];i.push(t[o])}return i},p.prototype.prepareBubbleCollCircleToCollCheck=function(e){var t=e.collCircle;return t.x=e.x-this.x+e.velX,t.y=e.y-this.y+e.velY,e.collCircle},p.prototype.getBubble=function(e,t){return this.gridArray.get(e,t)},p.prototype.neighboursCoords=[[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,0]],[[0,-1],[-1,0],[0,1],[1,-1],[1,1],[1,0]]],p.prototype.getNeighbours=function(e,t){var n=[];return this.neighboursCoords[Math.abs(t%2)].forEach((function(r){var i=this.getBubble(e+r[0],t+r[1]);i&&n.push(i)}),this),n},p.prototype.getMatching=function(e,t,n){this.clearCheck();var r=[[e,t]],i=0;if(!this.getBubble(e,t))return!1;var o=[this.getBubble(e,t)];for(this.getBubble(e,t).checked=!0;i<r.length;){var a=this.getBubble(r[i][0],r[i][1]);i++;for(var s=this.getNeighbours(a.cellX,a.cellY),u=0;u<s.length;u++)s[u]&&s[u].checkType(n)&&(o.push(s[u]),r.push([s[u].cellX,s[u].cellY]))}return o},p.prototype.clearCheck=function(){[].concat(f(this.children),f(this.nonCacheGroup.children)).forEach((function(e){return e.clearCheck()}))},p.prototype.checkAndProcessHold=function(){return this.checkHold(),this.getAllNotChecked()},p.prototype.checkHold=function(){var e=this;this.clearCheck(),this.holds.forEach((function(t){var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(t,2),r=n[0],i=n[1];return e.holdCheckFrom(r,i)}))},p.prototype.holdCheckFrom=function(e,t){if(this.getBubble(e,t)&&!this.getBubble(e,t).checked){var n=[[e,t]],r=0;for(this.getBubble(e,t).checked=!0;r<n.length;){var i=this.getBubble(n[r][0],n[r][1]);r++;for(var o=this.getNeighbours(i.cellX,i.cellY),a=0;a<6;a++)o[a]&&!o[a].checked&&(o[a].checked=!0,n.push([o[a].cellX,o[a].cellY]))}}},p.prototype.getAllNotChecked=function(){var e=[];return this.forEach((function(t){t.checked||e.push(t)})),this.nonCacheGroup.forEach((function(t){t.checked||e.push(t)})),e},p.prototype.bounceBubbles=function(e){e.startBounce(.5*e.velX,.5*e.velY),this.waveBubbles([e],100,.2),e.pivotStack.addTween(r.game.add.tween({x:0,y:0}).to({x:-e.velX,y:-e.velY},150,Phaser.Easing.Sinusoidal.Out,!0,0,0,!0))},p.prototype.waveBubbles=function(e,t){var n=this,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:.1,o=new Phaser.Point;e.forEach((function(e){n.children.filter((function(n){return n!==e&&r.game.math.distance(e.x,e.y,n.x,n.y)<t})).forEach((function(n){var a=r.game.math.angleBetween(n.x,n.y,e.x,e.y),s=r.game.math.distance(e.x,e.y,n.x,n.y);o.set((0,c.lengthDirX)(a,Math.sqrt((t-s)*i),!0),(0,c.lengthDirY)(a,Math.sqrt((t-s)*i),!0)),n.pivotStack.addTween(r.game.add.tween({x:0,y:0}).to({x:o.x,y:o.y},150,Phaser.Easing.Sinusoidal.Out,!0,0,0,!0))}))}))},p.prototype.generateLevel=function(){for(var e=this.gridSettings.generateLevelToHeightDifference,t=0;t<Math.max(0,this.sizeH+e);t++)for(var n=0,i=this.sizeW;n<i;n++)this.makeBubble(n,t,r.game.rnd.between(0,5)),0==t&&this.holds.push([n,t]);var o=this.gridSettings.levelMatchAssurance,a=o.numberOfBubbles,s=o.spreadDepth;this.assureMatches(a,s)},p.prototype.assureMatches=function(e,t){for(var n=this,i=[],o=this.getLowestRowNumber();i.length<Math.min(e,this.sizeW);){var a=r.game.rnd.between(0,this.sizeW),s=this.getBubble(a,o);s&&!i.includes(s)&&i.push(s)}i.forEach((function(e){return n.spreadColor(e,t)}))},p.prototype.spreadColor=function(e,t){var n=r.game.rnd.pick(this.getNeighbours(e.cellX,e.cellY));n.changeTypeInto(e.type),0<t&&this.spreadColor(n,t-1)},p.prototype.getAllColorsOnBoard=function(){return[].concat(f(this.children),f(this.nonCacheGroup.children)).reduce((function(e,t){return e.includes(t.type)||e.push(t.type),e}),[])},p.prototype.recacheBitmap=function(){this.caching&&(this.orderCacheAfterUpdate=!1,this.updateCache())},p.prototype.getLowestRowNumber=function(){return[].concat(f(this.children),f(this.nonCacheGroup.children)).reduce((function(e,t){return Math.max(e,t.cellY||0)}),0)},p.prototype.makeRefill=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:2;this.inGameOverState||(this.moveAllBubblesDown(e),this.fillTopRows(e),r.game.add.tween(this).from({y:this.cellH*-e},150,Phaser.Easing.Sinusoidal.Out,!0),this.gridWarningLayer.updateBubbles(),this.orderCacheAfterUpdate=!0,this.getLowestRowNumber()>=this.sizeH&&this.setGameOver())},p.prototype.destroyBubble=function(e){this.gridArray.set(e.cellX,e.cellY,null),e.kill()},p.prototype.moveAllBubblesDown=function(e){this.gridArray.clear(),this.children.concat(this.nonCacheGroup.children).forEach((function(t){t.cellY+=e;var n=this.cellToInsidePx(t.cellX,t.cellY);t.x=n[0],t.y=n[1],t.orgX=n[0],t.orgY=n[1],t.collCircle.x=n[0],t.collCircle.y=n[1],this.gridArray.set(t.cellX,t.cellY,t)}),this)},p.prototype.fillTopRows=function(e){this.holds=[];for(var t=0;t<e;t++)for(var n=0,r=this.sizeW;n<r;n++)this.makeBubble(n,t,s.BubbleSprite.getRandomValue()),0==t&&this.holds.push([n,t])},n.default=p},{"../../src/main":107,"../handlers/audioPlayer":103,"../utils/index":159,"./BubbleFactory":112,"./BubbleSprite":115,"./FieldLine":120,"./GridArray":122,"./GridWarningLayer":123}],122:[function(e,t,n){"use strict";function r(e,t,n,r){this.minX=e||!1,this.maxX=t||!1,this.minY=n||!1,this.maxY=r||!1,this.limited=this.minX||this.maxX||this.minY||this.maxY,this.mainArray=[],this.maxIndexX=!1,this.minIndexX=!1,this.maxIndexY=!1,this.minIndexY=!1}Object.defineProperty(n,"__esModule",{value:!0}),r.prototype.clear=function(){this.mainArray=[]},r.prototype.set=function(e,t,n){if(e.constructor===Array&&(n=t,t=e[1],e=e[0]),this.limited&&!this.inLinit(e,t))throw"Out of limit!";return this.mainArray[e]||(this.mainArray[e]=[]),this.mainArray[e][t]=n,this.setHelperValues(e,t),n},r.prototype.get=function(e,t){if(e.constructor===Array&&(t=e[1],e=e[0]),this.limited&&!this.inLimit(e,t))throw"Out of limit!";return this.mainArray[e]&&this.mainArray[e][t]?this.mainArray[e][t]:null},r.prototype.inLimit=function(e,t){return!(!1!==this.minX&&e<this.minX||!1!==this.maxX&&e>this.maxX||!1!==this.minY&&t<this.minY||!1!==this.maxY&&t>this.maxY)},r.prototype.setHelperValues=function(e,t){!1===this.maxIndexX?(this.maxIndexX=e,this.minIndexX=e,this.lengthX=1,this.maxIndexY=t,this.minIndexY=t,this.lengthY=1):(this.minIndexX=e<this.minIndexX?e:this.minIndexX,this.maxIndexX=e>this.maxIndexX?e:this.maxIndexX,this.minIndexY=t<this.minIndexY?t:this.minIndexY,this.maxIndexY=t>this.maxIndexY?t:this.maxIndexY)},r.prototype.filter=function(e){var t=[];return this.mainArray.forEach((function(n){n.forEach((function(n){n&&e(n)&&t.push(n)}))})),t},n.default=r},{}],123:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.GridWarningLayer=void 0;function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=e("main"),o=s(e("../utils/changeTexture")),a=s(e("../utils/lerp"));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,i.game));return t.gameGrid=e,t.alpha=1,i.game.add.tween(t).to({alpha:0},400,Phaser.Easing.Sinusoidal.InOut,!0,0,-1,!0),t}n.GridWarningLayer=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,Phaser.Group),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(u,[{key:"updateBubbles",value:function(e){var t=this;this.callAllExists("kill",!0),this.gameGrid.gridArray.filter((function(e){return e.cellY>t.gameGrid.sizeH-5})).forEach((function(e){return t.initWarningPillar(e)}))}},{key:"initWarningBubble",value:function(e){var t=this.getFirstDead()||this.addWarningBubble();t.position=e.position,t.pivot=e.pivot,t.alpha=0,t.revive()}},{key:"addWarningBubble",value:function(){var e=i.game.make.image(0,0);(0,o.default)(e,"warning_bubble_2"),e.anchor.setTo(.5),this.add(e);var t=(this.gameGrid.sizeH-5)*this.gameGrid.cellH,n=this.gameGrid.sizeH*this.gameGrid.cellH;return e.update=function(){var e=i.game.math.clamp((this.y-t)/(n-t),0,1);this.alpha=(0,a.default)(this.alpha,e,.5)},e}},{key:"initWarningPillar",value:function(e){var t=this.getFirstDead()||this.addWarningPillar();t.targetBubble=e,t.update(),t.position.setTo(e.x,this.gameGrid.sizeH*this.gameGrid.cellH),t.revive()}},{key:"addWarningPillar",value:function(){var e=i.game.make.image(0,0);(0,o.default)(e,"warning_pillar"),e.anchor.setTo(.5,1),e.targetBubble=null,this.add(e);var t=(this.gameGrid.sizeH-5)*this.gameGrid.cellH,n=this.gameGrid.sizeH*this.gameGrid.cellH;return e.update=function(e){if(this.targetBubble){var r=i.game.math.clamp((this.targetBubble.y-t)/(n-t),0,1);this.alpha=(0,a.default)(this.alpha,r,.5)}},e.update(),e}}]),u)},{"../utils/changeTexture":151,"../utils/lerp":162,main:107}],124:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.LeaderboardScreen=void 0;function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i,o,a,s,u=e("main"),l=e("../ui/uiParser"),c=e("../sdkWrapper"),h=(i=e("../utils/promisifySignal"))&&i.__esModule?i:{default:i};function f(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(i){return void n(i)}if(!a.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}function p(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,u.game));return n.pause=e,(0,l.parseJsonUI)(u.game.getJson("ui_leaderboardScreen"),n,!0),e&&n.getFirstExport("header").setText(u.game.getText("PAUSE")),n.injectScores(t),n.performOnAllExports("contentGroup",(function(e){e.scale.setTo(Math.min(1,u.game.width/700))})),e||n.initButtonFlow(),u.game.add.tween(n).from({alpha:0},200,Phaser.Easing.Sinusoidal.Out,!0),n}n.LeaderboardScreen=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(p,Phaser.Group),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(p,[{key:"injectScores",value:function(e){this.performOnAllExports("leaderboardEntry",(function(t,n){e[n]?(t.getFirstExport("rankText").setText(n+1),t.getFirstExport("scoreText").setText(e[n].score),t.getFirstExport("highlight").visible=e[n].current):t.visible=!1}))}},{key:"initButtonFlow",value:(s=f(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this.getFirstExport("continueButton")).visible=!1,e.next=4,(0,c.beforePlayButtonDisplay)();case 4:t.visible=!0;case 5:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"onContinuePromise",value:(a=f(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.default)(this.signals.continueButtonClicked);case 2:if(this.pause){e.next=6;break}return this.getFirstExport("continueButton").inputEnabled=!1,e.next=6,(0,c.playButtonPressed)();case 6:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"close",value:(o=f(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.default)(u.game.add.tween(this).to({alpha:0},200,Phaser.Easing.Sinusoidal.Out,!0).onComplete),(0,c.playButtonPressed)();case 2:this.destroy();case 3:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})}]),p)},{"../sdkWrapper":137,"../ui/uiParser":148,"../utils/promisifySignal":165,main:107}],125:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.NewShooter=void 0;function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=e("main"),o=e("../ui/uiParser"),a=d(e("./BubbleFlying")),s=d(e("../utils/makeImage")),u=d(e("../utils/stopTweens")),l=d(e("../utils/lerp")),c=d(e("../utils/drawCircleSegment")),h=e("./BubbleSprite"),f=e("../handlers/audioPlayer"),p=e("./ShooterChanceSlots");function d(e){return e&&e.__esModule?e:{default:e}}function g(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,i.game));(0,o.parseJsonUI)(i.game.getJson("ui_shooter"),n,!0),n.signals={onFxRequest:new Phaser.Signal,onChancesEmpty:new Phaser.Signal},n.paused=!1,n.inGameOverState=!1,n.multicolorProgress=0,n.multicolorRest=!1,n.multicolorProgressDisplayed=0,n.bubbleColorCached=h.BubbleSprite.getRandomValue(),n.gameGrid=e,n.gameBoard=t,n.gameGrid.signals.onGameOver.add((function(){return n.inGameOverState=!0})),n.pointerGroup=n.gameBoard.add(n.createPointerGroup()),n.flyingBubble=n.gameBoard.add(new a.default(n.gameGrid)),n.flyingBubble.onCollision.add((function(){return n.gameGrid.putBubble(n.flyingBubble)})),n.pointerBubble=n.gameBoard.add(new a.default(n.gameGrid)),n.pointerBubble.setMute(!0);var r=i.game.getJson("settings").shooter;n.gameGrid.signals.onRemovedToPopOut.add((function(e){r.restAfterMulticolor&&n.multicolorRest?n.multicolorRest=!1:n.increaseMulticolorProgress(e.length*r.mutlicolorIncreasePerBubble)})),n.initColors(),n.initColorBar(),n.initChancesSlots(r);var s=n.getFirstExport("inputCacher");return i.game.device.desktop?s.events.onInputDown.add((function(){return n.onClick()}),null,-100):s.events.onInputUp.add((function(){return n.onClick()}),null,-100),n}n.NewShooter=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(g,Phaser.Group),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(g,[{key:"reset",value:function(){this.getNextColor(),this.multicolorProgress=0,this.multicolorProgressDisplayed=0,this.redrawColorBar(0),this.inGameOverState=!1,this.paused=!1,this.chancesSlots.reset()}},{key:"canRefill",value:function(){return!this.flyingBubble.alive}},{key:"createPointerGroup",value:function(){for(var e=i.game.make.group(),t=0;t<40;t++)(0,s.default)(0,0,"ball_hd_0",.5,e).props({scale:{x:.3,y:.3},alpha:.5,visible:!1});return e}},{key:"isReadyToShoot",value:function(){return!this.flyingBubble.alive}},{key:"onClick",value:function(){this.isPointerOverField()&&this.isReadyToShoot()&&this.shoot(this.getPointerAngle())}},{key:"shoot",value:function(e){(0,f.playSound)("whoosh");var t=this.getFirstExport("mainBubbleContainer").toLocal(this.gameBoard,i.game.world),n=t.x,r=t.y,o=this.mainBubble.getBubbleValue();this.flyingBubble.init(n,-r,e,o),"multicolor"===o&&(this.multicolorProgress=0,this.multicolorRest=!0),this.getNextColor()}},{key:"isPointerOverField",value:function(){if(this.inGameOverState)return!1;if(this.paused)return!1;var e=this.gameBoard.toLocal(i.game.input.activePointer,i.game.world).y,t=this.gameGrid.gridFiledRect.y<e,n=this.getPointerAngle();return t&&-175<n&&n<-5}},{key:"pause",value:function(){this.paused=!0}},{key:"resume",value:function(){this.paused=!1}},{key:"getPointerAngle",value:function(){var e=i.game.input.activePointer;return i.game.math.radToDeg(i.game.math.angleBetween(this.mainBubble.worldPosition.x,this.mainBubble.worldPosition.y,e.worldX,e.worldY))}},{key:"update",value:function(){this.isPointerOverField()?(this.aimPointers(this.getPointerAngle()),this.pointerGroup.alpha=Math.min(1,this.pointerGroup.alpha+.1)):this.pointerGroup.alpha=Math.max(0,this.pointerGroup.alpha-.1),this.multicolorProgress!==this.multicolorProgressDisplayed&&(this.multicolorProgressDisplayed=(0,l.default)(this.multicolorProgressDisplayed,this.multicolorProgress,.2,.01),this.redrawColorBar(this.multicolorProgressDisplayed))}},{key:"increaseMulticolorProgress",value:function(e){if(100!==this.multicolorProgress&&(this.multicolorProgress=i.game.math.clamp(this.multicolorProgress+e,0,100),100===this.multicolorProgress)){this.bubbleColorCached=this.mainBubble.getBubbleValue(),this.chancesSlots.setColor(this.bubbleColorCached),this.setColor("multicolor"),(0,f.playSound)("booster");var t=this.getFirstExport("mainBubbleContainer");this.signals.onFxRequest.dispatch(t,{type:"multicolorCircle"});for(var n=0;n<10;n++)this.signals.onFxRequest.dispatch(t,{type:"star"})}}},{key:"aimPointers",value:function(e){var t=this,n=this.getFirstExport("mainBubbleContainer").toLocal(this.gameBoard,i.game.world),r=n.x,o=n.y;this.pointerBubble.init(r,-o,e,1),this.pointerBubble.update();var a=this.pointerGroup.length;this.pointerGroup.children.forEach((function(e,n){t.pointerBubble.update(),e.visible=t.pointerBubble.alive,e.alpha=.5-n/a*.5,e.visible&&e.position.setTo(t.pointerBubble.x,t.pointerBubble.y)})),this.pointerBubble.kill()}},{key:"initColorBar",value:function(){var e=this.getFirstExport("colorBar");e.mask=e.addChild(i.game.make.graphics())}},{key:"redrawColorBar",value:function(e){var t=0<arguments.length&&void 0!==e?e:0,n=this.getFirstExport("colorBar");n.mask.clear(),n.mask.beginFill(0,1),(0,c.default)(n.mask,0,0,220,179,180+180*t/100)}},{key:"initColors",value:function(){this.mainBubble=this.getFirstExport("mainBubbleContainer").add(new h.BubbleSprite),this.mainBubble.initBubbleSprite(h.BubbleSprite.getRandomValue()),this.updatePointersTexture(this.mainBubble.getBubbleValue())}},{key:"initChancesSlots",value:function(e){var t=this;this.chancesSlots=this.getFirstExport("refillerContainer").add(new p.ShooterChanceSlots(e)),this.chancesSlots.setColor(this.bubbleColorCached),this.chancesSlots.signals.onEmpty.add((function(){t.signals.onChancesEmpty.dispatch()}))}},{key:"decreaseChances",value:function(){this.chancesSlots.decreaseChance()}},{key:"updatePointersTexture",value:function(e){if("multicolor"===e)this.pointerGroup.children.forEach((function(e,t){e.loadTexture("ball_hd",h.BubbleSprite.getSpriteForValue(t%6))}));else{var t=h.BubbleSprite.getSpriteForValue(e);this.pointerGroup.children.forEach((function(e){e.loadTexture("ball_hd",t)}))}}},{key:"scaleTween",value:function(e,t){return new Promise((function(n){(0,u.default)(e),e.scale.setTo(t?0:1),i.game.add.tween(e.scale).to({x:t,y:t},60,Phaser.Easing.Sinusoidal.Out,!0).onComplete.add(n)}))}},{key:"getNextColor",value:function(){this.setColor(this.bubbleColorCached),this.bubbleColorCached=h.BubbleSprite.getRandomValue(),this.chancesSlots.setColor(this.bubbleColorCached)}},{key:"setColor",value:function(e){(0,u.default)(this.mainBubble),this.mainBubble.scale.setTo(0),this.mainBubble.initBubbleSprite(e),this.updatePointersTexture(this.mainBubble.getBubbleValue()),this.scaleTween(this.mainBubble,1)}}]),g)},{"../handlers/audioPlayer":103,"../ui/uiParser":148,"../utils/drawCircleSegment":156,"../utils/lerp":162,"../utils/makeImage":164,"../utils/stopTweens":166,"./BubbleFlying":113,"./BubbleSprite":115,"./ShooterChanceSlots":134,main:107}],126:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.NoMoreAds=void 0;function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i,o,a,s=e("main"),u=e("../ui/uiParser"),l=(i=e("../utils/promisifySignal"))&&i.__esModule?i:{default:i};function c(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,s.game));return(0,u.parseJsonUI)(s.game.getJson("ui_noMoreAds"),e,!0),e.init(),s.game.stage.add(e),e}n.NoMoreAds=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,Phaser.Group),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(c,[{key:"init",value:(o=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.default)(s.game.add.tween(this).from({alpha:0},300,Phaser.Easing.Sinusoidal.Out,!0).onComplete);case 2:return e.next=4,(0,l.default)(s.game.add.tween(this).to({alpha:0},300,Phaser.Easing.Sinusoidal.Out,!0,2e3).onComplete);case 4:this.destroy();case 5:case"end":return e.stop()}}),e,this)})),a=function(){var e=o.apply(this,arguments);return new Promise((function(t,n){return function r(i,o){try{var a=e[i](o),s=a.value}catch(i){return void n(i)}if(!a.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(s)}("next")}))},function(){return a.apply(this,arguments)})}]),c)},{"../ui/uiParser":148,"../utils/promisifySignal":165,main:107}],127:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PointCounter=void 0;function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=e("../handlers/saveData");function o(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.signals={onHighscoreBeaten:new Phaser.Signal},this.score=0,this.currentScoreText=e,this.highscoreToBeat=(0,i.getSaveDataValue)("topScores",[])[0]||null}n.PointCounter=(function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(o,[{key:"addPoints",value:function(e){this.score+=e,this.currentScoreText.setText(this.score.toString()),null!==this.highscoreToBeat&&this.score>this.highscoreToBeat&&(this.highscoreToBeat=null,this.signals.onHighscoreBeaten.dispatch(this.score))}},{key:"getScore",value:function(){return this.score}},{key:"reset",value:function(){this.score=0,this.currentScoreText.setText("0"),this.highscoreToBeat=(0,i.getSaveDataValue)("topScores",[])[0]||null}}]),o)},{"../handlers/saveData":106}],128:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PointsLabel=void 0;function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i,o=e("../../src/main"),a=(i=e("../../src/ui/Text"))&&i.__esModule?i:{default:i},s=e("./AlphaTargetComponent");function u(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,o.game));return t.points=e,t.label=t.add(t.createTextElement()),t.alphaTargetComponent=new s.AlphaTargetComponent(t.label,.3),t}n.PointsLabel=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,Phaser.Group),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(u,[{key:"displayPoints",value:function(e){var t=this.add(this.createTextElement(e));o.game.add.tween(t).to({y:-100,alpha:0},500,Phaser.Easing.Sinusoidal.Out,!0).onComplete.add((function(){t.destroy()}))}},{key:"update",value:function(){this.alphaTargetComponent.update()}},{key:"setAlphaTarget",value:function(e){this.alphaTargetComponent.setAlphaTarget(e)}},{key:"createTextElement",value:function(e){var t=0<arguments.length&&void 0!==e?e:"white";return new a.default(0,0,this.points.toString(),{font:"Futura-Bold",fontSize:30,fill:t,shadow:[0,2,"rgba(0,0,0,0.5)",0]},.5)}}]),u)},{"../../src/main":107,"../../src/ui/Text":142,"./AlphaTargetComponent":109}],129:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PopOutGroup=void 0;function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=e("../../src/main"),o=e("./BubblePopOut"),a=e("../utils/index"),s=e("./PointsLabel"),u=e("../handlers/audioPlayer"),l=e("./PopOutGroupCollider"),c=e("./PopOutGroupPointsArea");function h(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,i.game));return t.paused=!1,t.signals={onBubbleCollected:new Phaser.Signal,onFxRemoveBubblesRequest:new Phaser.Signal,onAddPoints:new Phaser.Signal,onIdle:new Phaser.Signal},t.freeBubbles=[],t.gridPxSize=e,t.gfx=t.add(i.game.make.graphics()),t.pointsLabelGroup=t.add(i.game.make.group()),t.bubbleGroup=t.add(i.game.make.group()),t.init(e),t}n.PopOutGroup=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(h,Phaser.Group),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(h,[{key:"initBubbles",value:function(e){var t=this;e.forEach((function(e){t.initBubble(e.x,e.y,e.getBubbleValue())}))}},{key:"init",value:function(e){var t=this,n=e.height+15,r=i.game.getJson("settings").potsConfig;this.colliders=r.colliders.map((function(r){var i=r.x,o=r.width,a=r.height,s=o*e.width,u=new Phaser.Rectangle(i*e.width-.5*s,n,s,a);return u.floorAll(),t.add(new l.PopOutGroupCollider(u))})),this.pointsAreas=r.pointsAreas.map((function(r,i){var o=r.x,a=(r.y,r.width),u=(r.height,r.points),l=new Phaser.Rectangle(o*e.width,n+20,a*e.width,1/0);l.floorAll();var h=new s.PointsLabel(u);h.position.setTo(l.centerX,l.y-2),t.pointsLabelGroup.add(h);var f=new c.PopOutGroupPointsArea(l,u,h);return t.colliders[i-1]&&f.addCollider(t.colliders[i-1]),t.colliders[i]&&f.addCollider(t.colliders[i]),f}))}},{key:"pause",value:function(){this.paused=!0}},{key:"resume",value:function(){this.paused=!1}},{key:"getIdlePromise",value:function(){var e=this;return new Promise((function(t){e.bubbleGroup.getFirstAlive()?e.signals.onIdle.addOnce(t):t()}))}},{key:"initBubble",value:function(e,t,n){this.getFreeInstance().init(e,t,n)}},{key:"reset",value:function(){this.bubbleGroup.callAllExists("kill",!0),this.paused=!1}},{key:"getFreeInstance",value:function(){var e=this.gridPxSize.width-25;return this.getFirstDead()||this.bubbleGroup.add(new o.BubblePopOut(25,e,50))}},{key:"update",value:function(){var e=this;if(!this.paused){this.pointsLabelGroup.children.forEach((function(e){return e.update()})),this.colliders.forEach((function(e){return e.update()}));for(var t=this.bubbleGroup.length,n=function(){var n=e.bubbleGroup.children[t];if(!n.alive)return"continue";n.update(),e.colliders.forEach((function(t){t.collidesWithCircle(n.collCircle)&&(e.potBubbleCollision(t.getCollisionRectangle(),n),(0,u.playSound)("pop","",0,.2))})),e.pointsAreas.forEach((function(t){t.processPosition(n.x,n.y)&&e.onPointsAreaCollision(t,n)}))};t--;)n()}}},{key:"potBubbleCollision",value:function(e,t){var n=new Phaser.Point(t.velX,t.velY);for(n.normalize();Phaser.Circle.intersectsRectangle(t.collCircle,e);)t.collCircle.x-=2*n.x,t.collCircle.y-=2*n.y;var r=Math.max(2.5,.75*i.game.math.distance(0,0,t.velX,t.velY)),o=i.game.math.angleBetween(e.centerX,e.centerY,t.x,t.y);t.velX=(0,a.lengthDirX)(o,r,!0),t.velY=Math.max(-10,(0,a.lengthDirY)(o,r,!0)),t.x=t.collCircle.x,t.y=t.collCircle.y}},{key:"onPointsAreaCollision",value:function(e,t){t.y=e.rect.top,this.signals.onAddPoints.dispatch(e.getPointsAmount()),this.signals.onFxRemoveBubblesRequest.dispatch([t]),this.signals.onBubbleCollected.dispatch(t),e.label.displayPoints(t.getBubbleColor()),t.kill(),this.bubbleGroup.getFirstAlive()||this.signals.onIdle.dispatch()}}]),h)},{"../../src/main":107,"../handlers/audioPlayer":103,"../utils/index":159,"./BubblePopOut":114,"./PointsLabel":128,"./PopOutGroupCollider":130,"./PopOutGroupPointsArea":131}],130:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PopOutGroupCollider=void 0;function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=e("../../src/main"),o=e("./AlphaTargetComponent");function a(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,i.game));return t.rect=e,t.drawCollider(),t.alphaTargetComponent=new o.AlphaTargetComponent(t,.3),t}n.PopOutGroupCollider=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,Phaser.Graphics),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(a,[{key:"drawCollider",value:function(){this.clear(),this.beginFill(16777215,1);var e=this.rect,t=e.x,n=e.y,r=e.width,i=e.height;this.drawRect(t,n,r,i),this.beginFill(0,.5),this.drawRect(t,n+i,r,2)}},{key:"collidesWithCircle",value:function(e){return Phaser.Circle.intersectsRectangle(e,this.rect)}},{key:"getCollisionRectangle",value:function(){return this.rect}},{key:"update",value:function(){this.alphaTargetComponent.update()}},{key:"setAlphaTarget",value:function(e){this.alphaTargetComponent.setAlphaTarget(e)}}]),a)},{"../../src/main":107,"./AlphaTargetComponent":109}],131:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.colliders=[],this.label=n,this.points=t,this.rect=e,this.alpha=.5}n.PopOutGroupPointsArea=(function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(i,[{key:"addCollider",value:function(e){this.colliders.push(e)}},{key:"processPosition",value:function(e,t){if(e>this.rect.left&&e<this.rect.right&&t>this.rect.top-250){var n=game.math.clamp(1-(this.rect.top-(t+50))/200,0,1);this.label.setAlphaTarget(n),this.colliders.forEach((function(e){return e.setAlphaTarget(n)}))}return this.rect.contains(e,t)}},{key:"getPointsAmount",value:function(){return this.points}}]),i)},{}],132:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.SecondChanceScreen=void 0;function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i,o=e("main"),a=e("../ui/uiParser"),s=p(e("../utils/promisifySignal")),u=p(e("../utils/centerElements")),l=e("../sdkWrapper"),c=e("../prototypes/NoMoreAds"),h=p(e("../utils/drawCircleSegment")),f=p(e("../utils/wait"));function p(e){return e&&e.__esModule?e:{default:e}}function d(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(i){return void n(i)}if(!a.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}function g(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,o.game));return e.onFail=new Phaser.Signal,e.onSuccess=new Phaser.Signal,(0,a.parseJsonUI)(o.game.getJson("ui_secondChanceScreen"),e,!0),e.init(),e}n.SecondChanceScreen=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(g,Phaser.Group),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(g,[{key:"init",value:function(){var e=this,t=o.game.getJson("settings").secondChance.countdownSec,n=void 0;o.game.add.tween(this).from({alpha:0},200,Phaser.Easing.Sinusoidal.Out,!0),this.countdown=t,this.getFirstExport("countdownText").setText(this.countdown.toString()),this.countdownEvent=o.game.time.events.loop(1e3,(function(){return e.decreaseCountdown()})),this.signals.onButtonClicked.addOnce(d(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o.game.time.events.remove(e.countdownEvent),e.signals.onNoThanksClicked.removeAll(),n.stop(),o.game.paused=!0,t.next=6,(0,l.rewardedAd)();case 6:if(r=t.sent,o.game.paused=!1,!r){t.next=12;break}e.onSuccess.dispatch(),t.next=17;break;case 12:return t.next=14,new c.NoMoreAds;case 14:return t.next=16,(0,f.default)(500);case 16:e.onFail.dispatch();case 17:case"end":return t.stop()}}),t,e)})))),this.signals.onNoThanksClicked.add((function(){e.countdown=0,e.decreaseCountdown()})),this.performOnFirstExport("continueButton",(function(e){o.game.add.tween(e.scale).to({x:"+0.02",y:"+0.02"},1e3,Phaser.Easing.Sinusoidal.InOut,!0,0,-1,!0)})),this.performOnFirstExport("videoIcon",(function(e){e.angle=-3,o.game.add.tween(e).to({angle:3},2e3,Phaser.Easing.Sinusoidal.InOut,!0,0,-1,!0)})),this.performOnFirstExport("countdownBar",(function(e){var r={countdown:t},i=e.addChild(o.game.make.graphics());e.mask=i,(n=o.game.add.tween(r).to({countdown:0},1e3*t,Phaser.Easing.Linear.None,!0)).onUpdateCallback((function(){var n=r.countdown/t;i.clear(),(0,h.default)(i,0,0,Math.floor(1.2*e.width),270-360*n,270)}))})),(0,u.default)(this.getAllExports("continueButtonLabel"),15)}},{key:"decreaseCountdown",value:function(){if(0===this.countdown)return o.game.time.events.remove(this.countdownEvent),void this.onFail.dispatch();this.countdown--;var e=this.getFirstExport("countdownText");e.setText(this.countdown.toString()),o.game.add.tween(e.scale).to({x:1.2,y:1.2},200,Phaser.Easing.Sinusoidal.Out,!0,0,0,!0)}},{key:"getResolutionPromise",value:function(){return Promise.race([(0,s.default)(this.onFail,!1),(0,s.default)(this.onSuccess,!0)])}},{key:"close",value:(i=d(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.default)(o.game.add.tween(this).to({alpha:0},200,Phaser.Easing.Sinusoidal.Out,!0).onComplete);case 2:this.destroy();case 3:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})}]),g)},{"../prototypes/NoMoreAds":126,"../sdkWrapper":137,"../ui/uiParser":148,"../utils/centerElements":150,"../utils/drawCircleSegment":156,"../utils/promisifySignal":165,"../utils/wait":167,main:107}],133:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ShooterChanceSlot=void 0;function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i,o,a=e("main");function s(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,a.game));return e.anchor.setTo(.5),a.game.utils.changeTexture(e,"bubble_grey"),e}n.ShooterChanceSlot=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,Phaser.Image),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(s,[{key:"hide",value:(i=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.game.utils.stopTweens(this),0<this.scale.x&&this.scaleTween(this,0);case 2:case"end":return e.stop()}}),e,this)})),o=function(){var e=i.apply(this,arguments);return new Promise((function(t,n){return function r(i,o){try{var a=e[i](o),s=a.value}catch(i){return void n(i)}if(!a.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(s)}("next")}))},function(){return o.apply(this,arguments)})},{key:"show",value:function(){a.game.utils.stopTweens(this),this.scale.x<1&&this.scaleTween(this,1)}},{key:"scaleTween",value:function(e,t){return new Promise((function(n){a.game.utils.stopTweens(e),e.scale.setTo(t?0:1),a.game.add.tween(e.scale).to({x:t,y:t},60,Phaser.Easing.Sinusoidal.Out,!0).onComplete.add(n)}))}}]),s)},{main:107}],134:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ShooterChanceSlots=void 0;function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i,o,a=e("main"),s=e("./ShooterChanceSlot"),u=e("./BubbleSprite");function l(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,a.game));return t.config=e,t.signals={onEmpty:new Phaser.Signal},t.slots=[],t.chancesIndex=0,t.currentChance=t.config.chances[t.chancesIndex],t.currentColor=null,t.nextColorBubble=null,t.init(),t}n.ShooterChanceSlots=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,Phaser.Group),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(l,[{key:"init",value:function(){for(var e=Math.max.apply(Math,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this.config.chances)),t=0;t<e;t++){var n=this.addChild(new s.ShooterChanceSlot);n.x+=55*t,this.slots.push(n)}this.nextColorBubble=this.slots[0].addChild(new u.BubbleSprite)}},{key:"reset",value:function(){this.chancesIndex=0,this.currentChance=this.config.chances[this.chancesIndex],this.refreshSlots()}},{key:"setColor",value:(i=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.currentColor=t,a.game.utils.stopTweens(this.nextColorBubble),e.next=4,a.game.utils.promisifySignal(a.game.add.tween(this.nextColorBubble.scale).to({x:0,y:0},50,Phaser.Easing.Sinusoidal.Out,!0).onComplete);case 4:return this.nextColorBubble.initBubbleSprite(this.currentColor),e.next=7,a.game.utils.promisifySignal(a.game.add.tween(this.nextColorBubble.scale).to({x:1,y:1},50,Phaser.Easing.Sinusoidal.Out,!0).onComplete);case 7:case"end":return e.stop()}}),e,this)})),o=function(){var e=i.apply(this,arguments);return new Promise((function(t,n){return function r(i,o){try{var a=e[i](o),s=a.value}catch(i){return void n(i)}if(!a.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(s)}("next")}))},function(e){return o.apply(this,arguments)})},{key:"decreaseChance",value:function(){this.currentChance--,0===this.currentChance&&(this.signals.onEmpty.dispatch(),this.chancesIndex++,this.chancesIndex===this.config.chances.length&&(this.chancesIndex=0),this.currentChance=this.config.chances[this.chancesIndex]),this.refreshSlots()}},{key:"refreshSlots",value:function(){var e=this;this.slots.forEach((function(t,n){n<e.currentChance?t.show():t.hide()}))}}]),l)},{"./BubbleSprite":115,"./ShooterChanceSlot":133,main:107}],135:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Shoutout=void 0;function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i,o,a,s=e("main"),u=(i=e("../ui/Text"))&&i.__esModule?i:{default:i};function l(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:200;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,s.game));i.bg=i.addChild(s.game.make.image()),i.bg.anchor.setTo(.5),i.bg.loadTexture("shoutout_bg"),i.textGroup=s.game.make.group(i),n=Object.assign({font:"Futura-Bold",fill:"white",lineSpacing:-20,fontSize:80,shadow:[0,3,"rgba(0, 0, 0, 0.5)",2]},n);var o=e.includes("\n"),a=i.textGroup.add(new u.default(0,0,e,n,.5,.8*s.game.width,void 0,o,"center"));if(t){n.fontSize=Math.round(.7*n.fontSize);var c=Math.round(a.bottom+.5*n.fontSize);a.y=Math.round(-.5*c),i.textGroup.add(new u.default(-5,Math.round(.5*c),t,n,.5,.8*s.game.width,void 0,!1,"center"))}return i.bg.scale.setTo(i.textGroup.width/130,i.textGroup.height/100),i.animate(r),i}n.Shoutout=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,Phaser.Group),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(l,[{key:"animate",value:(o=regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.textGroup.scale.setTo(0),this.bg.alpha=0,s.game.add.tween(this.bg).to({alpha:.7},100,Phaser.Easing.Sinusoidal.Out,!0),e.next=5,s.game.utils.promisifySignal(s.game.add.tween(this.textGroup.scale).to({x:1,y:1},300,Phaser.Easing.Elastic.Out,!0).onComplete);case 5:return e.next=7,s.game.utils.wait(t);case 7:s.game.add.tween(this).to({alpha:0},300,Phaser.Easing.Sinusoidal.Out,!0).onComplete.add((function(){return n.destroy()}));case 8:case"end":return e.stop()}}),e,this)})),a=function(){var e=o.apply(this,arguments);return new Promise((function(t,n){return function r(i,o){try{var a=e[i](o),s=a.value}catch(i){return void n(i)}if(!a.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(s)}("next")}))},function(e){return a.apply(this,arguments)})}]),l)},{"../ui/Text":142,main:107}],136:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ShoutoutLayer=void 0;function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=e("main"),o=e("../prototypes/Shoutout");function a(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,i.game));return t.grid=e,t.bottomLayer=t.add(i.game.add.group()),t.topLayer=t.add(i.game.add.group()),t}n.ShoutoutLayer=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,Phaser.Group),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(a,[{key:"doHighscoreShoutout",value:function(e){var t=new o.Shoutout(i.game.getText(e),void 0,void 0,800);t.position.setTo(.5*i.game.width,.15*i.game.height),this.topLayer.add(t)}},{key:"doComboShoutout",value:function(e,t){var n=new o.Shoutout(i.game.getText(e),t&&"+"+t);n.position.setTo(.5*i.game.width,.35*i.game.height),this.topLayer.add(n)}},{key:"doBigDropShoutout",value:function(e,t,n){if(!(0<this.topLayer.length)){var r=new o.Shoutout(i.game.getText(e),"+"+t,{fontSize:30});r.position.copyFrom(this.toLocal(Phaser.Point.centroid(n),this.grid));var a=r.children.reduce((function(e,t){return Math.max(e,t.width)}),0);r.x=i.game.math.clamp(r.x,0+.5*a,i.game.width-.5*a),this.bottomLayer.add(r)}}}]),a)},{"../prototypes/Shoutout":135,main:107}],137:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setDebugRewardFlag=function(e){o=e},n.initialize=function(e){return new Promise((function(t,n){sgSdk.initialize(["basic","scoreGame"],Object.assign({build:"1.0.0",supportedLanguages:["en","de","es","fr","it","pt","ru","tr","nl","pl","ja"],id:"bubble-shooter-retro",freezeGame:function(){},unfreezeGame:function(){},runGame:function(){},startOver:function(){}},e),(function(e,n,o){i=n,r=o,t()}))}))},n.loadingUpdate=function(e){r.trigger("loading.update",{progressPercentage:e})},n.loadingComplete=function(){r.trigger("loading.completed",{callback:function(){}})},n.start=function(){r.trigger("start")},n.rewardedAd=function(){return new Promise((function(e,t){r.trigger("rewardedAd",{callback:function(t){return e(t)}})}))},n.beforePlayButtonDisplay=function(){if(!a())return new Promise((function(e,t){r.trigger("beforePlayButtonDisplay",{callback:function(){return e()}})}))},n.playButtonPressed=function(){if(!a())return new Promise((function(e,t){r.trigger("playButtonPressed",{callback:function(){return e()}})}))},n.gameStart=function(){r.trigger("gameStart")},n.gameOver=function(e){return new Promise((function(t,n){r.trigger("gameOver",{score:e,callback:function(e){t()}})}))},n.restore=function(e,t){return new Promise((function(n,i){r.trigger("restore",{key:e,callback:function(e,r){n(r||t)}})}))},n.save=function(e,t){return new Promise((function(n,i){r.trigger("save",{key:e,value:t,callback:function(e){n()}})}))},n.getLocale=function(){try{return i.config.env.locale}catch(e){return"en"}},n.areRewardedEnabled=function(){if(null!==o)return o;try{return i.config.rewarded.enabled}catch(e){return!1}};var r=void 0,i=void 0,o=null;function a(){return"?platform=sandbox"===window.location.search}},{}],138:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=o(e("states/boot-state")),i=o(e("states/main-state"));function o(e){return e&&e.__esModule?e:{default:e}}var a=[r.default,i.default];a.BOOT=r.default,n.default=a},{"states/boot-state":139,"states/main-state":140}],139:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i,o=(r=e("sg-utils/loader/asset-table"))&&r.__esModule?r:{default:r},a=e("main"),s=e("../handlers/saveData"),u=e("../handlers/audioPlayer"),l=e("../sdkWrapper"),c={key:"boot",init:function(){a.game.flags.setFlag(a.game.device.desktop?"horizontal":"vertical"),this.stage.disableVisibilityChange=!0,this.scale.scaleMode=Phaser.ScaleManager.EXACT_FIT,this.scale.pageAlignHorizontally=!0,this.scale.pageAlignVertically=!0,this.tweens.frameBased=!0,this.time.advancedTiming=!0},preload:function(){!1===a.game.device.desktop&&window.addEventListener("resize",(function(){window.innerWidth>window.innerHeight?document.getElementById("orientation").style.display="block":document.getElementById("orientation").style.display="none"})),this.load.onFileComplete.add((function(e){return(0,l.loadingUpdate)(e)})),(0,o.default)({sfx:{},bitmapfonts:{},atlases:{ball_hd:"assets/boot/atlases/ball_hd.png",fx:"assets/boot/atlases/fx.png",ui:"assets/boot/atlases/ui.png"},images:{BACKGROUND:"assets/boot/images/BACKGROUND.png",BACKGROUND_INVERT:"assets/boot/images/BACKGROUND_INVERT.png",BUBBLE_FIELD_BACKGROUND:"assets/boot/images/BUBBLE_FIELD_BACKGROUND.png",shoutout_bg:"assets/boot/images/shoutout_bg.png",warning_pillar:"assets/boot/images/warning_pillar.png"},json:{languages:"assets/boot/json/languages.json",settings:"assets/boot/json/settings.json",ui_gameLayout:"assets/boot/json/ui_gameLayout.json",ui_leaderboardEntry:"assets/boot/json/ui_leaderboardEntry.json",ui_leaderboardScreen:"assets/boot/json/ui_leaderboardScreen.json",ui_loadingOverlay:"assets/boot/json/ui_loadingOverlay.json",ui_muteButton:"assets/boot/json/ui_muteButton.json",ui_noMoreAds:"assets/boot/json/ui_noMoreAds.json",ui_secondChanceScreen:"assets/boot/json/ui_secondChanceScreen.json",ui_shooter:"assets/boot/json/ui_shooter.json",ui_topPanel:"assets/boot/json/ui_topPanel.json"},webfonts:{"Futura-Bold":"assets/boot/webfonts/Futura-Bold.woff"}})},create:(i=function(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(i){return void n(i)}if(!a.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,u.loadSounds)({booster:"assets/lazyLoad/sfx/booster.mp3",bubblepop:"assets/lazyLoad/sfx/bubblepop.mp3",bubblepop2:"assets/lazyLoad/sfx/bubblepop2.mp3",bubblepop3:"assets/lazyLoad/sfx/bubblepop3.mp3",buttonClick:"assets/lazyLoad/sfx/buttonClick.mp3",hit:"assets/lazyLoad/sfx/hit.mp3",lost:"assets/lazyLoad/sfx/lost.mp3",pop:"assets/lazyLoad/sfx/pop.mp3",whoosh:"assets/lazyLoad/sfx/whoosh.mp3",won:"assets/lazyLoad/sfx/won.mp3"}),a.game.sound.mute=(0,s.getSaveDataValue)("mute"),(0,l.loadingComplete)();case 3:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})};n.default=c},{"../handlers/audioPlayer":103,"../handlers/saveData":106,"../sdkWrapper":137,main:107,"sg-utils/loader/asset-table":99}],140:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=e("main"),o=e("../handlers/resizeGame"),a=v(e("../prototypes/GameGrid")),s=v(e("../prototypes/EffectsLayer")),u=e("../prototypes/NewShooter"),l=e("../prototypes/PointCounter"),c=e("../ui/uiParser"),h=e("../prototypes/ComboCounter"),f=e("../prototypes/PopOutGroup"),p=e("../prototypes/LeaderboardScreen"),d=e("../handlers/saveData"),g=e("../prototypes/SecondChanceScreen"),y=e("../sdkWrapper"),b=e("../prototypes/ShoutoutLayer"),m=e("../prototypes/BigDropCounter");function v(e){return e&&e.__esModule?e:{default:e}}function _(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(i){return void n(i)}if(!a.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}var x,w,P,S,O=(function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(C,[{key:"init",value:function(){this.scale.onResize=o.resizeGame,this.scale.onResize()}},{key:"create",value:function(){this.usedSaveMe=!1,this.initializeObjects(),this.resetGame()}},{key:"initializeObjects",value:function(){var e=this;this.layout=(0,c.parseJsonUI)(i.game.getJson("ui_gameLayout")),this.layout.signals.onPauseButtonClicked.add(e.showPause,e),i.game.onPause.remove(e.showPause,e),i.game.onPause.add(e.showPause,e);var t=this.layout.getExportMap(["scoreText","bestScoreText","gameBoardContainer","shooterContainer"]),n=t.scoreText,r=t.bestScoreText,o=t.gameBoardContainer,p=t.shooterContainer;this.pointCounter=new l.PointCounter(n,r),this.grid=new a.default(o),this.gridFxLayer=o.add(new s.default),this.popOutGroup=o.add(new f.PopOutGroup(this.grid.getGridPixelSize())),this.popOutGroup.position.copyFrom(this.grid.position),this.topFxLayer=new s.default,this.shooter=p.add(new u.NewShooter(this.grid,o)),this.shoutoutsLayer=new b.ShoutoutLayer(this.grid),this.aboveAllFxLayer=new s.default;var d=i.game.getJson("settings").bonusPoints;this.comboCounter=new h.ComboCounter(d.combos),this.bigDropCounter=new m.BigDropCounter(d.bigDrops),this.hookUpSignals()}},{key:"showPause",value:function(){!0!==this.alreadyPaused&&!0!==sgSdk.isAdPlaying()&&this.showLeaderboard(!0)}},{key:"hookUpSignals",value:function(){var e=this;this.grid.signals.onGameOver.add((function(){return e.gameOverFlow()})),this.grid.signals.onRemovedToPopOut.add((function(t){return e.popOutGroup.initBubbles(t)})),this.grid.signals.onMoveDone.add((function(t,n){e.comboCounter.processMove(t),t?e.bigDropCounter.checkMatch(n):e.shooter.decreaseChances()})),[this.popOutGroup.signals.onAddPoints,this.comboCounter.signals.onAddPoints,this.bigDropCounter.signals.onAddPoints].forEach((function(t){t.add((function(t){return e.pointCounter.addPoints(t)}))})),this.grid.signals.onFxRemoveBubblesRequest.add((function(t){return e.gridFxLayer.initBubblesFx(t)})),this.popOutGroup.signals.onFxRemoveBubblesRequest.add((function(t){return e.gridFxLayer.initBubblesPopOutFx(t)})),this.shooter.signals.onFxRequest.add((function(t,n){return e.topFxLayer.initFx(t,n)})),this.shooter.signals.onChancesEmpty.add((function(){return e.grid.makeRefill()})),this.comboCounter.signals.onComboShoutout.add((function(t,n){e.shoutoutsLayer.doComboShoutout(t,n)})),this.pointCounter.signals.onHighscoreBeaten.add((function(){e.shoutoutsLayer.doHighscoreShoutout("NEW HIGHSCORE!");var t,n=i.game.width,r=i.game.height;[[.2*n,.15*r],[.5*n,.13*r],[.8*n,.22*r]].forEach((t=_(regeneratorRuntime.mark((function t(n,r){var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(n,2),a=o[0],s=o[1];return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.game.utils.wait(200*r);case 2:e.aboveAllFxLayer.initFireworks(a,s);case 3:case"end":return t.stop()}}),t,e)}))),function(e,n){return t.apply(this,arguments)}))})),this.bigDropCounter.signals.onBonusShoutout.add((function(t,n,r){e.shoutoutsLayer.doBigDropShoutout(t,n,r)}))}},{key:"gameOverFlow",value:(S=_(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!1,n=!this.usedSaveMe&&(0,y.areRewardedEnabled)())return e.next=5,this.showSecondChance();e.next=6;break;case 5:t=e.sent;case 6:if(!t){e.next=12;break}this.usedSaveMe=!0,this.grid.continueAfterGameOver(4),this.shooter.inGameOverState=!1,e.next=18;break;case 12:return e.next=14,this.popOutGroup.getIdlePromise();case 14:if(n){e.next=17;break}return e.next=17,i.game.utils.wait(500);case 17:this.finishGame();case 18:case"end":return e.stop()}}),e,this)}))),function(){return S.apply(this,arguments)})},{key:"resetGame",value:function(){this.pointCounter.reset(),this.grid.reset(),this.usedSaveMe=!1,this.popOutGroup.reset(),this.shooter.reset(),this.gridFxLayer.reset(),this.topFxLayer.reset(),this.comboCounter.reset(),(0,y.gameStart)()}},{key:"pause",value:function(){this.alreadyPaused=!0,this.shooter.pause(),this.popOutGroup.pause()}},{key:"resume",value:function(){this.alreadyPaused=!1,this.shooter.resume(),this.popOutGroup.resume()}},{key:"prepareLeaderboardTable",value:function(){var e=(0,d.getSaveDataValue)("topScores",[]).map((function(e){return{current:!1,score:e}}));return e.push({score:this.pointCounter.getScore(),current:!0}),e.sort((function(e,t){return t.score-e.score})),e.slice(0,10)}},{key:"finishGame",value:(P=_(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.showLeaderboard();case 2:return(0,d.setSaveDataValue)("topScores",this.prepareLeaderboardTable().map((function(e){return e.score})).filter((function(e){return 0<e})).slice(0,10)),e.next=5,(0,y.gameOver)(this.pointCounter.getScore());case 5:this.resetGame();case 6:case"end":return e.stop()}}),e,this)}))),function(){return P.apply(this,arguments)})},{key:"showLeaderboard",value:(w=_(regeneratorRuntime.mark((function e(){var t,n=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pause(),t=new p.LeaderboardScreen(n,this.prepareLeaderboardTable()),e.next=4,t.onContinuePromise();case 4:t.close(),this.resume();case 6:case"end":return e.stop()}}),e,this)}))),function(){return w.apply(this,arguments)})},{key:"showSecondChance",value:(x=_(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pause(),t=new g.SecondChanceScreen,e.next=4,t.getResolutionPromise();case 4:return n=e.sent,t.close(),this.resume(),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)}))),function(){return x.apply(this,arguments)})}]),C);function C(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,C)}(n.default=O).key="main"},{"../handlers/resizeGame":105,"../handlers/saveData":106,"../prototypes/BigDropCounter":110,"../prototypes/ComboCounter":117,"../prototypes/EffectsLayer":119,"../prototypes/GameGrid":121,"../prototypes/LeaderboardScreen":124,"../prototypes/NewShooter":125,"../prototypes/PointCounter":127,"../prototypes/PopOutGroup":129,"../prototypes/SecondChanceScreen":132,"../prototypes/ShoutoutLayer":136,"../sdkWrapper":137,"../ui/uiParser":148,main:107}],141:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.LabelTypes=n.default=n.Button=void 0,o(e("main"));var r=o(e("../prototypes/Button")),i=e("./uiParser");function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=this;r.default.call(this,0,0,null,null),this.IMMEDIATE=!0,this._config=e,this.signals={onClick:new Phaser.Signal},t&&this.onClick.add(t),this._onOut(),this.onInputOver.add((function(){n._config.sfx&&n._config.sfx.onOver,n._onOver()}),this),this.onInputOut.add((function(){n._isDown=!1,n._onOut()}),this),this.onInputDown.add((function(){n._config.sfx&&n._config.sfx.onPress,n._isDown=!0,n._onOut()}),this),this.onInputUp.add((function(){n._isDown&&n.signals.onClick.dispatch()}))}(a.prototype=Object.create(r.default.prototype)).setCallback=function(e){this.onClick.add(e)},a.prototype._onOut=function(){this._config.labelOut&&(0,i.updateElementsFromConfig)(this,this._config.labelOut)},a.prototype._onOver=function(){this._config.labelOver&&(0,i.updateElementsFromConfig)(this,this._config.labelOver)},a.prototype.setInputEnabled=function(e){e?(this.inputEnabled=!0,this.input.useHandCursor=!0):this.inputEnabled=!1},n.Button=a,n.default=a,n.LabelTypes={Sprite:"Sprite",Text:"Text"}},{"../prototypes/Button":116,"./uiParser":148,main:107}],142:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=e("../main");function o(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},a=arguments[4],s=arguments[5],u=arguments[6],l=arguments[7],c=arguments[8];r=o.getStyle(r),this.userMaxWidth=s||1/0,this.userMaxHeight=u||1/0,l&&(r.wordWrap=!0,r.wordWrapWidth=s,r.align=c||"left"),Phaser.Text.call(this,i.game,e,t,n,r),this.autoRound=!0,a&&("number"==typeof a?this.anchor.setTo(a):this.anchor.setTo(a[0],a[1])),this.orgFontSize=this.fontSize,this._forceToBoundries()}o.prototype=Object.create(Phaser.Text.prototype),o.styles={},o.addStyle=function(e,t){o.styles[e]=t},o.getStyle=function(e){var t=void 0;if("object"!==(void 0===e?"undefined":r(e)))t=JSON.parse(JSON.stringify(o.styles[e]));else if(e.style||e.fontStyle){e.style=e.fontStyle||e.style;var n=JSON.parse(JSON.stringify(o.styles[e.style]));if(e.scaleStroke&&e.fontSize&&n.fontSize&&n.strokeThickness){var i=n.strokeThickness/parseInt(n.fontSize);e.strokeThickness=Math.ceil(parseInt(e.fontSize)*i)}t=Object.assign(n,e)}else t=e;return t},o.prototype.setStyle=function(e,t){e=o.getStyle(e),Phaser.Text.prototype.setStyle.call(this,e,t),void 0!==e.lineSpacing&&(this.lineSpacing=e.lineSpacing),e.fontSize&&(this.orgFontSize=e.fontSize,this.fontSize=e.fontSize),e.shadow&&this.setShadow.apply(this,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e.shadow)),e.fillGradient&&(this.fill=this.createGradient(e.fillGradient)),e.strokeGradient&&(this.stroke=this.createGradient(e.strokeGradient)),this._forceToBoundries()},o.prototype.setText=function(e){Phaser.Text.prototype.setText.call(this,e),this.scale.setTo(1),this.fontSize=this.orgFontSize,this._forceToBoundries()},o.prototype._forceToBoundries=function(){for(;(this.width>this.userMaxWidth||this.height>this.userMaxHeight)&&(this.fontSize-=2,!(this.fontSize<10)););this.width=Math.min(this.width,this.userMaxWidth),this.height=Math.min(this.height,this.userMaxHeight)},o.prototype.setShadow=function(e,t,n,r){var i,o=Math.abs(Math.ceil(e*r)),a=Math.abs(Math.ceil(t*r));this.padding.setTo(o,a),this.pivot.setTo(.5*-o,.5*-a);for(var s=arguments.length,u=Array(4<s?s-4:0),l=4;l<s;l++)u[l-4]=arguments[l];(i=Phaser.Text.prototype.setShadow).call.apply(i,[this,e,t,n,r].concat(u))},o.prototype.createGradient=function(e){var t=e.direction,n=void 0===t?"vertical":t,r=e.colorStops,i=void 0;return i="vertical"===n?this.context.createLinearGradient(0,0,0,this.height):this.context.createLinearGradient(0,0,this.width,0),r.forEach((function(e){var t=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(e,2),n=t[0],r=t[1];i.addColorStop(n,r)})),i},n.default=o},{"../main":107}],143:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e={};return{addAction:function(t,n){e[t]=n},triggerAction:function(t){if(e[t]){for(var n=arguments.length,r=Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e[t].apply(e,r)}},isActionDefined:function(t){return Boolean(e[t])}}}},{}],144:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=[],t={};return{addFlagListener:function(e,r){return t[e]||(t[e]=new Phaser.Signal),n(e)&&r(),t[e].add(r)},setFlag:function(r){t[r]||(t[r]=new Phaser.Signal),n(r)||e.push(r),t[r].dispatch()},removeFlag:function(t){n(t)&&e.splice(e.indexOf(t),1)},isFlag:n};function n(t){return e.includes(t)}}},{}],145:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){PIXI.DisplayObject.prototype.getFirstExport=function(e){return this.getAllExports(e)[0]},PIXI.DisplayObject.prototype.getAllExports=function(e){var t=[];return function n(r){e?void 0!==r._exportName&&r._exportName===e&&t.push(r):t.push(r),r.children&&r.children.forEach((function(e){n(e)}))}(this),t},PIXI.DisplayObject.prototype.getExportMap=function(e){var t=this;return e.reduce((function(e,n){var r=t.getFirstExport(n);return r&&(e[n]=r),e}),{})},PIXI.DisplayObject.prototype.performOnFirstExport=function(e,t){var n=this.getFirstExport(e);n&&t(n)},PIXI.DisplayObject.prototype.performOnAllExports=function(e,t){this.getAllExports(e).forEach((function(e,n){return t(e,n)}))},PIXI.DisplayObject.prototype.updateLayout=function(e){if(this._layout){var t=this._layout,n={width:i.default.width,height:i.default.height},r={width:s(this),height:u(this)};o(t.width)&&(this.width=a(t.width)),o(t.height)&&(this.height=a(t.height)),o(t.keepAspectFrom)&&("width"===t.keepAspectFrom?this.scale.y=this.scale.x:"height"===t.keepAspectFrom&&(this.scale.x=this.scale.y)),r={width:s(this),height:u(this)},o(t.left)&&(this.x=a(t.left)),o(t.right)&&(this.x=n.width+a(t.right)),o(t.top)&&(this.y=a(t.top)),o(t.bottom)&&(this.y=n.height+a(t.bottom))}function o(e){return null!=e}function a(e){return Array.isArray(e)?e.reduce((function(e,t){return e+a(t)}),0):"string"==typeof e?function(e){var t=e.includes("GW"),i=t?n.width:n.height,o=t?r.width:r.height;if(e.includes("%R")){var a=parseFloat(e.slice(0,e.indexOf("%")));return Math.floor(a/100*(i-o))}if(e.includes("%")){var s=parseFloat(e.slice(0,e.indexOf("%")));return Math.floor(s/100*i)}}(e):e}function s(e){return e._layout.declaredWidth||e.width}function u(e){return e._layout.declaredHeight||e.height}}};var r,i=(r=e("main"))&&r.__esModule?r:{default:r}},{main:107}],146:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return e&&"object"===(void 0===e?"undefined":r(e))&&!Array.isArray(e)}n.default=function e(t){for(var n=arguments.length,r=Array(1<n?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];if(!r.length)return t;var s,u=r.shift();if(o(t)&&o(u))for(var l in u)o(u[l])?(t[l]||Object.assign(t,i({},l,{})),e(t[l],u[l])):(s=u[l])&&Array.isArray(s)?(t[l]||Object.assign(t,i({},l,[])),t[l]=t[l].concat(u[l])):Object.assign(t,i({},l,u[l]));return e.apply(void 0,[t].concat(r))}},{}],147:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=Phaser.Image.prototype.loadTexture;Phaser.Image.prototype.loadTexture=function(){this.events.onTextureChanged&&this.events.onTextureChanged.dispatch();for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];e.call.apply(e,[this].concat(n))},Phaser.Image.prototype.getLoadTextureSignal=function(){return this.events.onTextureChanged||(this.events.onTextureChanged=new Phaser.Signal),this.events.onTextureChanged},Phaser.Text.prototype.updateText=function(){this.texture.baseTexture.resolution=this._res,this.context.font=this.style.font;var e=this.text;-1<this.characterLimitSize&&this.characterLimitSize<e.length&&(e=this.text.substring(0,this.characterLimitSize)+this.characterLimitSuffix),this.style.wordWrap&&(e=this.runWordWrap(this.text));var t=e.split(this.splitRegExp),n=this.style.tabs,r=[],i=0,o=this.determineFontProperties(this.style.font),a=t.length;0<this.style.maxLines&&this.style.maxLines<t.length&&(a=this.style.maxLines);for(var s=this._charCount=0;s<a;s++){if(0===n){var u=this.style.strokeThickness+this.padding.x;0<this.colors.length||0<this.strokeColors.length||0<this.fontWeights.length||0<this.fontStyles.length?u+=this.measureLine(t[s]):u+=this.context.measureText(t[s]).width,this.style.wordWrap&&(u-=this.context.measureText(" ").width)}else{var l=t[s].split(/(?:\t)/);if(u=this.padding.x+this.style.strokeThickness,Array.isArray(n))for(var c=0,h=0;h<l.length;h++){var f;f=0<this.colors.length||0<this.strokeColors.length||0<this.fontWeights.length||0<this.fontStyles.length?this.measureLine(l[h]):Math.ceil(this.context.measureText(l[h]).width),0<h&&(c+=n[h-1]),u=c+f}else for(h=0;h<l.length;h++)0<this.colors.length||0<this.strokeColors.length||0<this.fontWeights.length||0<this.fontStyles.length?u+=this.measureLine(l[h]):u+=Math.ceil(this.context.measureText(l[h]).width),u+=this.game.math.snapToCeil(u,n)-u}r[s]=Math.ceil(u),i=Math.max(i,r[s])}this.canvas.width=i*this._res,this.canvas.width%2==1&&(this.canvas.width=this.canvas.width+1);var p=o.fontSize+this.style.strokeThickness+this.padding.y,d=p*a,g=this._lineSpacing;g<0&&Math.abs(g)>p&&(g=-p),0!==g&&(d+=0<g?g*t.length:g*(t.length-1)),this.canvas.height=d*this._res,this.canvas.height%2==1&&(this.canvas.height=this.canvas.height+1),this.context.scale(this._res,this._res),navigator.isCocoonJS&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.style.backgroundColor&&(this.context.fillStyle=this.style.backgroundColor,this.context.fillRect(0,0,this.canvas.width,this.canvas.height)),this.context.fillStyle=this.style.fill,this.context.font=this.style.font,this.context.strokeStyle=this.style.stroke,this.context.textBaseline="alphabetic",this.context.lineWidth=this.style.strokeThickness,this.context.lineCap="round",this.context.lineJoin="round";var y=void 0,b=void 0;for(s=this._charCount=0;s<a;s++)y=this.style.strokeThickness/2,b=this.style.strokeThickness/2+s*p+o.ascent,0<s&&(b+=g*s),"right"===this.style.align?y+=i-r[s]:"center"===this.style.align&&(y+=(i-r[s])/2),this.autoRound&&(y=Math.round(y),b=Math.round(b)),0<this.colors.length||0<this.strokeColors.length||0<this.fontWeights.length||0<this.fontStyles.length?this.updateLine(t[s],y,b):(this.style.stroke&&this.style.strokeThickness&&(this.updateShadow(this.style.shadowStroke),0===n?this.context.strokeText(t[s],y,b):this.renderTabLine(t[s],y,b,!1)),this.style.fill&&(this.updateShadow(this.style.shadowFill),0===n?this.context.fillText(t[s],y,b):this.renderTabLine(t[s],y,b,!0)));this.updateTexture(),this.dirty=!1}}},{}],148:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.addCustomType=n.updateElementsFromConfig=n.default=n.parseJsonUI=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};n.updateParameters=function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};t._uiConfig&&(m(t,{},n),t.children.forEach((function(t){return e(t,n)})))},n.updateElementFromConfig=m;var o=h(e("main")),a=h(e("./Button")),s=h(e("./Text")),u=h(e("./expandDisplayObject")),l=h(e("./nestedObjectAssign")),c=h(e("../utils/changeTexture"));function h(e){return e&&e.__esModule?e:{default:e}}var f={Sprite:"Sprite",Graphics:"Graphics",Text:"Text",Button:"Button",Group:"Group"},p={},d=!1,g=new Phaser.Signal;function y(e,t,n,h){var y={},v=_(e,t,n,h);return v.signals=y,v;function _(e,t,n,h){if(d||(o.default.state.onStateChange.add((function(e){g.removeAll()})),o.default.onLocaleChange.add((function(){g.dispatch()})),(0,u.default)(),d=!0),(e=function(e){return JSON.parse(JSON.stringify(e))}(e)).import&&(e=(0,l.default)(o.default.getJson(e.import),e)),e.mapParemeters){var b={};h&&(Object.entries(e.mapParemeters).forEach((function(e){var t=i(e,2),n=t[0],r=t[1];void 0!==h[r]&&(b[n]=h[r])})),h=b)}if(n)return x(t,e,null,h),t.uiConfig=e,t;var m=null;switch(e.type){case f.Sprite:m=function(e,t,n){var r=o.default.utils.makeImage(0,0,null,0);return e.sprite&&(0,c.default)(r,e.sprite),e.spriteFromParameters&&n[e.spriteFromParameters]&&(0,c.default)(r,n[e.spriteFromParameters]),e.inputBlocker&&(r.inputEnabled=!0),e.hitArea&&(r.hitArea=new Phaser.Rectangle(e.hitArea.x,e.hitArea.y,e.hitArea.width,e.hitArea.height)),x(r,e,t,n),r}(e,t,h);break;case f.Graphics:m=function(e,t,n){var r=o.default.add.graphics(0,0);return x(r,e,t,n),e.inputBlocker&&(r.inputEnabled=!0),e.commands&&(i(),e.dynamic&&o.default.signals.onScreenResize.add((function(){i()}))),r;function i(){r.clear(),e.commands.forEach((function(e){switch(e.type){case"DrawRectangle":!function(e){var t=e.x,n=e.y,i=e.width,s=e.height,u=e.color,l=e.alpha;"GW"===i&&(i=o.default.width),"GH"===s&&(s=o.default.height),a(u,l),r.drawRect(t,n,i,s)}(e);break;case"DrawCircle":!function(e){var t=e.x,n=e.y,i=e.diameter;a(e.color,e.alpha),r.drawCircle(t,n,i)}(e)}}))}function a(e,t){void 0!==e&&void 0!==t&&("string"==typeof e&&"#"===e[0]&&(e=parseInt(e.substr(1),16)),r.beginFill(e,t))}}(e,t,h);break;case f.Text:m=function(e,t,n){var i=void 0;e.text?i=o.default.getText(e.text):e.textNotLocalized&&(i=e.textNotLocalized);var a=new s.default(0,0,i||" ",e.style,.5,e.maxWidth,e.maxHeight,e.textWrap,e.align);if(e.style&&e.style.fill&&"object"===r(e.style.fill)){var u=e.style.fill,l=a.canvas.getContext("2d").createLinearGradient(u.x1,u.y1,u.x2,u.y2);u.stops.forEach((function(e){return l.addColorStop.apply(l,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e))})),a.fill=l}if(e.text&&o.default.utils.cleanUpOnDestroy(a,g.add((function(){a.setText(o.default.getText(e.text))}))),e.textFromParameters&&n){var c=n[e.textFromParameters];void 0!==c?a.setText(c):e.textFromParameters}return x(a,e,t,n),a}(e,t,h);break;case f.Button:m=function(e,t,n){var r=new a.default(e);return e.triggerActions&&(e.triggerActions.forEach((function(e){o.default.actions.isActionDefined(e)})),r.setCallback((function(){e.triggerActions.forEach((function(e){o.default.actions.triggerAction(e)}))}))),e.dispatchSignals&&e.dispatchSignals.forEach((function(e){y[e]||(y[e]=new Phaser.Signal),r.setCallback((function(){y[e].dispatch()}))})),e.sprite&&(0,c.default)(r,e.sprite),x(r,e,t,n),r}(e,t,h);break;case f.Group:m=function(e,t,n){var r=o.default.make.group();return x(r,e,t,n),r}(e,t,h);break;default:m=function(e,t,n){var r=p[e.type];if(r&&r.createFunction){var i=r.createFunction(e,t);return x(i,e,t,n),i}}(e,t,h)}return m.uiConfig=e,m}function x(e,t,n,r){if(e._elementType=t.type,(e._uiConfig=t).props&&e.props(t.props),t.localeProps){var a=function(n){var r=t.localeProps[n]||t.localeProps.default||{};m(e,r)};a(o.default.locale),o.default.utils.cleanUpOnDestroy(e,o.default.onLocaleChange.add(a))}t.exportName&&(e._exportName=t.exportName),n&&(n.add?n.add(e):n.addChild(e)),t.elements&&t.elements.forEach((function(t){_(t,e,!1,r)})),t.layout&&(e.props({_layout:t.layout}),e._layout._binding=o.default.signals.onScreenResize.add(e.updateLayout,e),o.default.utils.cleanUpOnDestroy(e,e._layout._binding),e.updateLayout()),t.flags&&Object.entries(t.flags).forEach((function(t){var n=i(t,2),r=n[0],a=n[1];o.default.utils.cleanUpOnDestroy(e,o.default.flags.addFlagListener(r,(function(){b(e,a)})))}))}}function b(e,t,n){t.forEach((function(t){if(t.exportNames&&t.exportNames.forEach((function(r){var i=e.getFirstExport(r);i&&m(i,t,n)})),t.exportName){var r=e.getFirstExport(t.exportName);r&&m(r,t,n)}}))}function m(e){var t,n,r,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};switch(function(e,t){t.props&&e.props(t.props),t.layout&&(e.props({_layout:t.layout}),e._layout._binding||(e._layout._binding=o.default.signals.onScreenResize.add(e.updateLayout,e),o.default.utils.cleanUpOnDestroy(e,e._layout._binding)),e.updateLayout()),t.changeState&&e.uiConfig.states[t.changeState]&&b(e,e.uiConfig.states[t.changeState])}(e,i),e._elementType){case f.Sprite:!function(e,t,n){t.sprite&&(0,c.default)(e,t.sprite),t.spriteFromParameters&&n[t.spriteFromParameters]&&(0,c.default)(e,n[t.spriteFromParameters])}(e,i,a);break;case f.Text:!function(e,t,n){t.fontSize&&(e.fontSize=t.fontSize),t.style&&e.setStyle(t.style),t.maxWidth&&(e.userMaxWidth=t.maxWidth,e.style.wordWrapWidth=t.maxWidth),e._uiConfig&&e._uiConfig.textFromParameters&&void 0!==n[e._uiConfig.textFromParameters]?e.setText(n[e._uiConfig.textFromParameters].toString()):e.setText(e.text)}(e,i,a);break;case f.Graphics:break;default:n=i,(r=p[(t=e)._elementType])&&r.updateFunction&&r.updateFunction(t,n)}}n.parseJsonUI=y,n.default=y,n.updateElementsFromConfig=b,n.addCustomType=function(e,t,n){p[e]={createFunction:t,updateFunction:n}}},{"../utils/changeTexture":151,"./Button":141,"./Text":142,"./expandDisplayObject":145,"./nestedObjectAssign":146,main:107}],149:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.tweenTargets=[],this.target=e}n.TweenStack=(function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(i,[{key:"addTween",value:function(e){var t=this;this.tweenTargets.push(e.target),e.onComplete.add((function(){t.tweenTargets.splice(t.tweenTargets.indexOf(e.target),1)}))}},{key:"update",value:function(){var e=0,t=0,n=!0,r=!1,i=void 0;try{for(var o,a=this.tweenTargets[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;e+=s.x,t+=s.y}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}this.target.x=e,this.target.y=t}},{key:"removeAll",value:function(){this.tweenTargets=[]}}]),i)},{}],150:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=e.reduce((function(e,n){return e+n.width+t}),0);e.forEach((function(e,i,o){e.left=0===i?n+-.5*r:o[i-1].right+t}))}},{}],151:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var n=(0,i.default)(t);return n?e.loadTexture(n,t):e.loadTexture(t),e};var r,i=(r=e("./checkSheet"))&&r.__esModule?r:{default:r}},{"./checkSheet":152}],152:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function(e){if(void 0!==i[e])return i[e];var t=Object.entries(r.game.cache._cache.image).find((function(t){var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(t,2),r=(n[0],n[1]);return r.frameData&&void 0!==r.frameData._frameNames[e]}));return t&&(i[e]=t?t[0]:null),t?t[0]:null};var r=e("../main"),i={}},{"../main":107}],153:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];t.flat(1/0).forEach((function(e){e instanceof Phaser.TimerEvent?i.default.time.events.remove(e):e instanceof Phaser.SignalBinding?e.detach():e instanceof PIXI.DisplayObject?e.destroy():e instanceof Phaser.RenderTexture&&e.destroy(!0)}))};var r,i=(r=e("main"))&&r.__esModule?r:{default:r}},{main:107}],154:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(e instanceof Phaser.Group?e.onDestroy:e.events.onDestroy).addOnce((function(){return(0,i.default)(n)}))};var r,i=(r=e("./cleanUp"))&&r.__esModule?r:{default:r}},{"./cleanUp":153}],155:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=void 0,t=void 0,n=!1,r=!1,i=new Promise((function(i,o){e=function(){n=!0,i.apply(void 0,arguments)},t=function(){r=!1,o.apply(void 0,arguments)}}));return i.resolve=e,i.reject=t,i.isResolved=function(){return n},i.isPending=function(){return!n&&!r},i.isRejected=function(){return r},i}},{}],156:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n,o,a,s){if(a===s)return e;var u=(s-a)/(6<arguments.length&&void 0!==arguments[6]?arguments[6]:10);if(!(u<.001)){e.moveTo(t,n);for(var l=e.currentPath.shape.points;a<=s;a+=u)l.push(Math.floor(t+(0,r.default)(a,o,!1)),Math.floor(n+(0,i.default)(a,o,!1)));return l.push(Math.floor(t+(0,r.default)(s,o,!1)),Math.floor(n+(0,i.default)(s,o,!1))),e.dirty=!0,e._boundsDirty=!0,e}};var r=o(e("./lengthDirX")),i=o(e("./lengthDirY"));function o(e){return e&&e.__esModule?e:{default:e}}},{"./lengthDirX":160,"./lengthDirY":161}],157:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=!1,a=new Promise((function(a,s){(0,i.loadExtTexture)(t).then((function(){!r&&e.game||a();var i=e.width,s=e.height,u=t;if(n.highQualityResize||n.alphaMask){var l=game.make.image(0,0,t),c=game.make.bitmapData(i,s);if(c.context.imageSmoothingQuality="high",n.alphaMask){var h=game.make.image();(0,o.default)(h,n.alphaMask),c.alphaMask(l,h,new Phaser.Rectangle(0,0,i,s),new Phaser.Rectangle(0,0,i,s)),h.destroy()}else c.draw(l,0,0,i,s);l.destroy(),e.events.onDestroy.addOnce((function(){c.context.imageSmoothingQuality="low",c.destroy()})),u=c}e.loadTexture(u),(n.highQualityResize||n.alphaMask)&&e.getLoadTextureSignal().addOnce((function(){u.context.imageSmoothingQuality="low",u.destroy()})),e.props({width:i,height:s}),a()}))}));return a.cancel=function(){return r=!0},a};var r,i=e("./loadExtTexture"),o=(r=e("./changeTexture"))&&r.__esModule?r:{default:r}},{"./changeTexture":151,"./loadExtTexture":163}],158:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=void 0;try{var n=r.game.cache.getJSON("languages");t=n[r.game.locale]?n[r.game.locale][e]:n.en[e]}catch(e){}return t||"*"+e+"*"};var r=e("../main")},{"../main":107}],159:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.promisifySignal=n.drawCircleSegment=n.wait=n.cleanUpOnDestroy=n.getText=n.stopTweens=n.makeImage=n.lerp=n.lengthDirY=n.lengthDirX=n.checkSheet=n.changeTexture=n.centerElements=n.emplaceImage=n.createFuturePromise=void 0;var r=m(e("./centerElements")),i=m(e("./changeTexture")),o=m(e("./checkSheet")),a=m(e("./lengthDirX")),s=m(e("./lengthDirY")),u=m(e("./lerp")),l=m(e("./makeImage")),c=m(e("./stopTweens")),h=m(e("./getText")),f=m(e("./cleanUpOnDestroy")),p=m(e("./emplaceImage")),d=m(e("./createFuturePromise")),g=m(e("./wait")),y=m(e("./drawCircleSegment")),b=m(e("./promisifySignal"));function m(e){return e&&e.__esModule?e:{default:e}}n.createFuturePromise=d.default,n.emplaceImage=p.default,n.centerElements=r.default,n.changeTexture=i.default,n.checkSheet=o.default,n.lengthDirX=a.default,n.lengthDirY=s.default,n.lerp=u.default,n.makeImage=l.default,n.stopTweens=c.default,n.getText=h.default,n.cleanUpOnDestroy=f.default,n.wait=g.default,n.drawCircleSegment=y.default,n.promisifySignal=b.default},{"./centerElements":150,"./changeTexture":151,"./checkSheet":152,"./cleanUpOnDestroy":154,"./createFuturePromise":155,"./drawCircleSegment":156,"./emplaceImage":157,"./getText":158,"./lengthDirX":160,"./lengthDirY":161,"./lerp":162,"./makeImage":164,"./promisifySignal":165,"./stopTweens":166,"./wait":167}],160:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){return n?Math.cos(e)*t:Math.cos(r.game.math.degToRad(e))*t};var r=e("../main")},{"../main":107}],161:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){return n?Math.sin(e)*t:Math.sin(r.game.math.degToRad(e))*t};var r=e("../main")},{"../main":107}],162:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,i=e+n*(t-e);return 0!==r&&Math.abs(e-t)<=r?t:i}},{}],163:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.loadExtTexture=function(e){return i[e]||(i[e]=new Promise((function(t,n){var i=new Image;i.crossOrigin="anonymous",i.onload=function(){r.game.cache.addImage(e,e,i),t()},i.src=e}))),i[e]};var r=e("main"),i={}},{main:107}],164:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n,r,a){var s,u=i.game.make.image(e,t);return(0,o.default)(u,n),"number"==typeof r?u.anchor.setTo(r):(s=u.anchor).setTo.apply(s,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r)),a?(a.add||a.addChild).call(a,u):void 0===a&&i.game.world.add(u),u};var r,i=e("../main"),o=(r=e("./changeTexture"))&&r.__esModule?r:{default:r}},{"../main":107,"./changeTexture":151}],165:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){return new Promise((function(n){return e.addOnce((function(){return n(t)}))}))}},{}],166:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){[].concat(r.game.tweens._tweens,r.game.tweens._add).forEach((function(t){e.scale&&t.target==e.scale&&t.stop(),t.target==e&&t.stop()}))};var r=e("../main")},{"../main":107}],167:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return new Promise((function(t,n){return setTimeout(t,e)}))}},{}]},{},[107]);