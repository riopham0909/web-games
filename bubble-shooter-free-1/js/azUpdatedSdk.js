let azAdWrapper;const sgSdk=function(){let e,a,n=!1,t=!1;function d(e){"pagehide"===e.type||"blur"===e.type?window.game.onBlur.dispatch(e):"pageshow"!==e.type&&"focus"!==e.type||window.game.onFocus.dispatch(e)}function o(){window.game.time.gamePaused(),a.suspend()}function s(){window.game.input.reset(),window.game.time.gameResumed(),a.resume()}function r(){window.game.onPause.dispatch()}function c(){!0===t&&window.game.onResume.dispatch()}function i(){t=!1,r()}function l(){t=!0,!1===n&&c()}function g(){!function(){let e=document.getElementById("loader");e&&(e.style.display="block")}(),n=!0}function u(e,a){g(),azAdWrapper.once(h5ads.AdEvents.CONTENT_RESUMED,(()=>{e.callback.call(a)})),azAdWrapper.showAd(h5ads.AdType.interstitial)}function p(){return n}return{initialize:function(a,n,t){e=n;const d={config:{rewarded:{enabled:!0},env:{locale:(e=>{const a=new Proxy(new URLSearchParams(window.location.search),{get:(e,a)=>e.get(a)});if(a.lang)return a.lang;let n=(navigator.language||navigator.userLanguage).substr(0,2);return-1===e.indexOf(n)&&(n="en"),n})(e.supportedLanguages)},user:{avatar:"",avatarBase64:"",name:"Fake User",userId:"1234"}}};var o=window._azerionIntegration;window.hasOwnProperty("fbrqSA")&&!0===window.fbrqSA&&(h5branding.Utils.ASSET_LOCATION="assets/"),h5branding.SplashLoader.getInstance({gameId:o.gdId,gameName:document.title,gameTitle:document.title,libs:[],version:"1.0"}).create().then((()=>{azAdWrapper=new h5ads.AdWrapper(o.advType,o.gdId),t(null,d,sgSdk)})).catch((e=>{}))},trigger:function(w,m,h){switch(w){case"restore":!function(e,a){e.callback.call(a,null,localStorage.getItem(e.key))}(m,h);break;case"save":!function(e,a){localStorage.setItem(e.key,e.value),e.callBack&&e.callback.call(a)}(m,h);break;case"loading.completed":!function(g,w){azAdWrapper.on(h5ads.AdEvents.CONTENT_PAUSED,(()=>{r(),n=!0})),azAdWrapper.on(h5ads.AdEvents.CONTENT_RESUMED,(()=>{window.focus(),n=!1,function(){let e=document.getElementById("loader");e&&(e.style.display="none")}(),c()})),h5branding.SplashLoader.getInstance().setLoadProgress(100),h5branding.SplashLoader.getInstance().setButtonCallback((()=>{h5branding.SplashLoader.getInstance().destroy(),u({callback:function(){g.callback.call(w),e.runGame&&e.runGame()}},w)})),t=!0,window.game.stage.disableVisibilityChange=!0,window.game.canvas.oncontextmenu=function(e){e.preventDefault()},Phaser.Stage.prototype.visibilityChange=d,window.game.onBlur.add(i),window.game.onFocus.add(l),window.game.onPause.add(o),window.game.onResume.add(s),a=window.game.sound.context,a.onstatechange=e=>{!0!==p()&&!1!==t||"running"!==a.state||a.suspend()},window.game.scale.fullScreenScaleMode||(window.game.scale.fullScreenScaleMode=window.game.scale.scaleMode)}(m,h);break;case"loading.update":!function(e,a){h5branding.SplashLoader.getInstance().setLoadProgress(e.progressPercentage)}(m);break;case"levelStart":case"gameTracking":case"start":case"levelFinish":default:break;case"gameOver":case"beforePlayButtonDisplay":!function(e,a){e.callback&&e.callback.call(a)}(m,h);break;case"playButtonPressed":case"interstitialAd":u(m,h);break;case"rewardedAd":!function(e,a){g();let n=!1;azAdWrapper.once(h5ads.AdEvents.AD_REWARDED,(()=>{n=!0})),azAdWrapper.once(h5ads.AdEvents.CONTENT_RESUMED,(()=>{azAdWrapper.preloadAd(h5ads.AdType.rewarded),e.callback.call(a,n)})),azAdWrapper.showAd(h5ads.AdType.rewarded)}(m,h);break;case"moreGames":h5branding.Branding.openCampaignLink(document.title,"more_games")}},isAdPlaying:p}}();